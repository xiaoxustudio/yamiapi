<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>actor.js - YAMI_API-Xuran</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Actor.html">Actor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#isActive">isActive</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#loadAttributes">loadAttributes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#loadEquipments">loadEquipments</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#loadSkills">loadSkills</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#loadSprites">loadSprites</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#move">move</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#restoreInventory">restoreInventory</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#rotate">rotate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setActive">setActive</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setAngle">setAngle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setAnimation">setAnimation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setPassage">setPassage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setPosition">setPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setScale">setScale</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setSprite">setSprite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#setTeam">setTeam</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#translate">translate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#updateAngle">updateAngle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#updateGridPosition">updateGridPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#updateHitTimestamp">updateHitTimestamp</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#useInventory">useInventory</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Actor.html#.initialize">initialize</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ActorCollider.html">ActorCollider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorCollider.html#.handleActorCollisions">handleActorCollisions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorCollider.html#.handleSceneCollisions">handleSceneCollisions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorCollider.html#.initialize">initialize</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ActorNavigator.html">ActorNavigator</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_circleApproachTarget">_circleApproachTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_circleFollowTarget">_circleFollowTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_circleFollowTargetOnce">_circleFollowTargetOnce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_circleLeaveTarget">_circleLeaveTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_circleNavigateToTarget">_circleNavigateToTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_followTargetBuffer">_followTargetBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_rectangleApproachTarget">_rectangleApproachTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_rectangleFollowTarget">_rectangleFollowTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_rectangleFollowTargetOnce">_rectangleFollowTargetOnce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_rectangleNavigateToTarget">_rectangleNavigateToTarget</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#_switchToFollowTargetBuffer">_switchToFollowTargetBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#calculateVelocity">calculateVelocity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#followCircle">followCircle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#followRectangle">followRectangle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#moveTo">moveTo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#moveTowardAngle">moveTowardAngle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#navigateTo">navigateTo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#onFinish">onFinish</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#route">route</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#setMovementFactor">setMovementFactor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#setMovementFactorTemp">setMovementFactorTemp</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#setMovementSpeed">setMovementSpeed</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#stopMoving">stopMoving</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#updateForwardMovement">updateForwardMovement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ActorNavigator.html#updatePathMovement">updatePathMovement</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Animation.html">Animation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#activate">activate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#deleteTexture">deleteTexture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#destroyActiveEmitters">destroyActiveEmitters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#destroyContextEmitters">destroyContextEmitters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#drawSprite">drawSprite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#emitParticles">emitParticles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#finish">finish</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#getCurrentTime">getCurrentTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#getDirectionAngle">getDirectionAngle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#getDuration">getDuration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#getTexture">getTexture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#loadContexts">loadContexts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#loadDirCase">loadDirCase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#loadTexture">loadTexture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#onFinish">onFinish</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#release">release</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#restart">restart</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#restoreSpriteImages">restoreSpriteImages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#setAngle">setAngle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#setDirection">setDirection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#setDrawingPosition">setDrawingPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#setMotion">setMotion</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#setPosition">setPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#setSpriteImages">setSpriteImages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#updateFrameParameters">updateFrameParameters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#updateRotation">updateRotation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#._loadContext">_loadContext</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.contextReset">contextReset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.contextUpdate">contextUpdate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.contextUpdateParticle">contextUpdateParticle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.contextUpdateSound">contextUpdateSound</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.contextUpdateSprite">contextUpdateSprite</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Animation.html#.loadContexts">loadContexts</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="AnimationController.html">AnimationController</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#bindAnimation">bindAnimation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#changeMotion">changeMotion</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#getCurrentMotionName">getCurrentMotionName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#playMotion">playMotion</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#restart">restart</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#startIdle">startIdle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#startMoving">startMoving</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AnimationController.html#stopMotion">stopMotion</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="AudioPlayer.html">AudioPlayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#continue">continue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#play">play</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#restore">restore</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#save">save</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#setLoop">setLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#setPan">setPan</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#setReverb">setReverb</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#setVolume">setVolume</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioPlayer.html#stop">stop</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="AudioReverb.html">AudioReverb</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioReverb.html#connect">connect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioReverb.html#disconnect">disconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioReverb.html#set">set</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioReverb.html#setDry">setDry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioReverb.html#setWet">setWet</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="AudioReverb.html#.getConvolver">getConvolver</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="BatchRenderer.html">BatchRenderer</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CooldownItem.html">CooldownItem</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CooldownManager.html">CooldownManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#decreaseCooldown">decreaseCooldown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#increaseCooldown">increaseCooldown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#setCooldown">setCooldown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CooldownManager.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DialogBoxElement.html">DialogBoxElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#calculateTextPosition">calculateTextPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#continue">continue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#drawBuffer">drawBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#print">print</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#printImmediately">printImmediately</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#printNextPage">printNextPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#reload">reload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#resizeEmbeddedImages">resizeEmbeddedImages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DialogBoxElement.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="EasingMap.html">EasingMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EasingMap.html#map">map</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Equipment.html">Equipment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Equipment.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Equipment.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Equipment.html#equip">equip</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Equipment.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Equipment.html#saveData">saveData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="EquipmentManager.html">EquipmentManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#getById">getById</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EquipmentManager.html#set">set</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="EventHandler.html">EventHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#continue">continue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#finish">finish</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#getTimer">getTimer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#onFinish">onFinish</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#wait">wait</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#.restore">restore</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EventHandler.html#.save">save</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ImageElement.html">ImageElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageElement.html#loadBase64">loadBase64</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageElement.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageElement.html#setImageClip">setImageClip</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageElement.html#setTint">setTint</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ImageTexture.html">ImageTexture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageTexture.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ImageTexture.html#updateSliceData">updateSliceData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Inventory.html">Inventory</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#addToMap">addToMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#count">count</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#createEquipment">createEquipment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#createItems">createItems</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#decreaseItems">decreaseItems</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#decreaseMoney">decreaseMoney</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#deleteEquipment">deleteEquipment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#gainEquipment">gainEquipment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#getList">getList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#increaseItems">increaseItems</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#increaseMoney">increaseMoney</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#insert">insert</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#loseEquipment">loseEquipment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#removeFromMap">removeFromMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#sort">sort</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Inventory.html#swap">swap</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Item.html">Item</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#decrease">decrease</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#increase">increase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Item.html#use">use</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Matrix.html">Matrix</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#mirrorh">mirrorh</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#mirrorv">mirrorv</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#multiply">multiply</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#project">project</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#rotate">rotate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#rotateAt">rotateAt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#scale">scale</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#scaleAt">scaleAt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#set">set</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#set6f">set6f</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#skewAt">skewAt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#translate">translate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Matrix.html#translateY">translateY</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html">MultipleAudioPlayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#continue">continue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#getAudio">getAudio</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#getRecentlyAudio">getRecentlyAudio</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#play">play</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#playAt">playAt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#setLoop">setLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#setPan">setPan</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#setReverb">setReverb</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#setVolume">setVolume</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MultipleAudioPlayer.html#stop">stop</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ParticleElement.html">ParticleElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#getAreaPosition">getAreaPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#getBoundingRectangle">getBoundingRectangle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#getColorInt">getColorInt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#postProcessingCommon">postProcessingCommon</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#postProcessingEdge">postProcessingEdge</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartColorEasing">setStartColorEasing</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartColorFixed">setStartColorFixed</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartColorRandom">setStartColorRandom</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartColorTexture">setStartColorTexture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartPositionCircle">setStartPositionCircle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartPositionEdge">setStartPositionEdge</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartPositionPoint">setStartPositionPoint</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#setStartPositionRectangle">setStartPositionRectangle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#transformStartPosition">transformStartPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#updateColorEasing">updateColorEasing</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleElement.html#updateMethods">updateMethods</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ParticleEmitter.html">ParticleEmitter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#emitParticles">emitParticles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#isEmpty">isEmpty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#translateParticles">translateParticles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleEmitter.html#updateParticles">updateParticles</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ParticleLayer.html">ParticleLayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#calculateElementSize">calculateElementSize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#emitParticles">emitParticles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#loadTexture">loadTexture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#translateParticles">translateParticles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#updateCount">updateCount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#updateEasing">updateEasing</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ParticleLayer.html#updateParticles">updateParticles</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Printer.html">Printer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#calculatePadding">calculatePadding</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#calculateTextPosition">calculateTextPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#drawBuffer">drawBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#executeCommands">executeCommands</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#loadImage">loadImage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#matchTag">matchTag</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#measureHeight">measureHeight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#measureWidth">measureWidth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#newLine">newLine</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#updateFont">updateFont</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.drawText">drawText</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.drawTextWithOutline">drawTextWithOutline</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.drawTextWithShadow">drawTextWithShadow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.drawTextWithStroke">drawTextWithStroke</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.fetchCommand">fetchCommand</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.importFonts">importFonts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.loadDefault">loadDefault</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.parseEffect">parseEffect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.resetCommands">resetCommands</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Printer.html#.restoreTexture">restoreTexture</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ProgressBarElement.html">ProgressBarElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProgressBarElement.html#calculateProgressVertices">calculateProgressVertices</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProgressBarElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProgressBarElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProgressBarElement.html#resize">resize</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneActorList.html">SceneActorList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#count">count</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#setMaxColliderSize">setMaxColliderSize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#setMaxGridCellSize">setMaxGridCellSize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneActorList.html#updateGridPosAndCells">updateGridPosAndCells</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneAnimation.html">SceneAnimation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimation.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimation.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimation.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimation.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimation.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneAnimationList.html">SceneAnimationList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneAnimationList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneContext.html">SceneContext</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#getActor">getActor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#getMultipleActors">getMultipleActors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#getWallPosByRay">getWallPosByRay</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#isInLineOfSight">isInLineOfSight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#isInWallBlock">isInWallBlock</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#loadObjects">loadObjects</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#loadSubscene">loadSubscene</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#loadTerrainObstacles">loadTerrainObstacles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#render">render</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#setAmbientLight">setAmbientLight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#unloadSubscene">unloadSubscene</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneContext.html#updateTerrainObstacle">updateTerrainObstacle</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneGridCellList.html">SceneGridCellList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#grow">grow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#optimize">optimize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#shrink">shrink</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneGridCellList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneLight.html">SceneLight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#drawAreaLight">drawAreaLight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#drawPointLight">drawPointLight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#measure">measure</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#move">move</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLight.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneLightManager.html">SceneLightManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#render">render</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneLightManager.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneObstacleArray.html">SceneObstacleArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneObstacleArray.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneObstacleArray.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneObstacleArray.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneParallax.html">SceneParallax</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallax.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallax.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallax.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallax.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallax.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallax.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneParallaxManager.html">SceneParallaxManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#getTileTerrain">getTileTerrain</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#sort">sort</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParallaxManager.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneParticleEmitter.html">SceneParticleEmitter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitter.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitter.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitter.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitter.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitter.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html">SceneParticleEmitterList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneParticleEmitterList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneRegion.html">SceneRegion</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegion.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegion.html#createEventUpdaters">createEventUpdaters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegion.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegion.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegion.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegion.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneRegionList.html">SceneRegionList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneRegionList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneSpriteRenderer.html">SceneSpriteRenderer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneSpriteRenderer.html#render">render</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneSpriteRenderer.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneSpriteRenderer.html#setObjectLists">setObjectLists</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneTerrainArray.html">SceneTerrainArray</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneTilemap.html">SceneTilemap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#deleteTile">deleteTile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#getTileTerrain">getTileTerrain</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#loadTextures">loadTextures</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#setTile">setTile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTilemap.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SceneTriggerList.html">SceneTriggerList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTriggerList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTriggerList.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTriggerList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SceneTriggerList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Script.html">Script</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#add">add</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#call">call</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#.compileParamList">compileParamList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#.create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#.loadDeferredParameters">loadDeferredParameters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Script.html#.pushDeferredParameter">pushDeferredParameter</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Shortcut.html">Shortcut</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Skill.html">Skill</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#cast">cast</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#decreaseCooldown">decreaseCooldown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#increaseCooldown">increaseCooldown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Skill.html#setCooldown">setCooldown</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SkillCooldownList.html">SkillCooldownList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillCooldownList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillCooldownList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SkillManager.html">SkillManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#add">add</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SkillManager.html#sort">sort</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="State.html">State</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="State.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="State.html#decreaseTime">decreaseTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="State.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="State.html#increaseTime">increaseTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="State.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="State.html#setTime">setTime</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="StateCountdownList.html">StateCountdownList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateCountdownList.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateCountdownList.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateCountdownList.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="StateManager.html">StateManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateManager.html#add">add</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateManager.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateManager.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateManager.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateManager.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="StateManager.html#saveData">saveData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TargetManager.html">TargetManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#decreaseThreat">decreaseThreat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#detect">detect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#discard">discard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetFarthest">getTargetFarthest</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetMaxAttributeRatio">getTargetMaxAttributeRatio</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetMaxAttributeValue">getTargetMaxAttributeValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetMaxThreat">getTargetMaxThreat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetMinAttributeRatio">getTargetMinAttributeRatio</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetMinAttributeValue">getTargetMinAttributeValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetNearest">getTargetNearest</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#getTargetRandom">getTargetRandom</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#increaseThreat">increaseThreat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#resetRelatedTargets">resetRelatedTargets</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TargetManager.html#resetTargets">resetTargets</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TextBoxElement.html">TextBoxElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#addEventListeners">addEventListeners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#beforeinputEvent">beforeinputEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#blurEvent">blurEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#calculateHTMLInputPosition">calculateHTMLInputPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#calculateTextPosition">calculateTextPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#changeEvent">changeEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#connect">connect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#createHTMLInputElement">createHTMLInputElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#disconnect">disconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#fineTuneNumber">fineTuneNumber</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#focusEvent">focusEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#hide">hide</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#inputEvent">inputEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#keydownEvent">keydownEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#readInputNumber">readInputNumber</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#removeEventListeners">removeEventListeners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#show">show</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextBoxElement.html#wheelEvent">wheelEvent</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TextElement.html">TextElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextElement.html#calculateTextPosition">calculateTextPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextElement.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextElement.html#resizeEmbeddedImages">resizeEmbeddedImages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextElement.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Texture.html">Texture</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#clip">clip</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#fromImage">fromImage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#getImageData">getImageData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Texture.html#toBase64">toBase64</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TextureManager.html">TextureManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextureManager.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextureManager.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="TextureManager.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Timer.html">Timer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Timer.html#add">add</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Timer.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Timer.html#tick">tick</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Timer.html#.update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Timer.html#.wait">wait</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Timer.html#.waitRaw">waitRaw</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Trigger.html">Trigger</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#calculateAnimDirection">calculateAnimDirection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#loadAnimation">loadAnimation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#setAngle">setAngle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#setPosition">setPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#setScale">setScale</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#setSpeed">setSpeed</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#updateAnimation">updateAnimation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#updateCollision">updateCollision</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#updateMovement">updateMovement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#updateVelocity">updateVelocity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#.getActorsBySelector">getActorsBySelector</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Trigger.html#.update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="UIElement.html">UIElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#appendChild">appendChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#appendChildren">appendChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#calculatePosition">calculatePosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#callEvent">callEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#connect">connect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#connectChildren">connectChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#contains">contains</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#destroyChildren">destroyChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#disconnect">disconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#disconnectChildren">disconnectChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#drawChildren">drawChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#hide">hide</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#insertBefore">insertBefore</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#isPointIn">isPointIn</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#isVisible">isVisible</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#move">move</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#moveToIndex">moveToIndex</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#query">query</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#resizeChildren">resizeChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#set">set</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="UIElement.html#show">show</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="VideoElement.html">VideoElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#connect">connect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#continue">continue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#createVideoFrameUpdater">createVideoFrameUpdater</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#disconnect">disconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#onEnded">onEnded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="VideoElement.html#resize">resize</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="WindowElement.html">WindowElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#_calculateScrollArea">_calculateScrollArea</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#drawChildren">drawChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#getVisibleGridColumns">getVisibleGridColumns</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#getVisibleGridRows">getVisibleGridRows</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#requestResizing">requestResizing</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#scrollToChild">scrollToChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#.horizontalGridResize">horizontalGridResize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="WindowElement.html#.verticalGridResize">verticalGridResize</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#GL">GL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#_createElement">_createElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#_updateBubbleState">_updateBubbleState</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#activate">activate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#add">add</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addMember">addMember</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addPointerEventRoot">addPointerEventRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#append">append</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#autorun">autorun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bind">bind</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#blur">blur</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#buildPath">buildPath</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#calculateCoords">calculateCoords</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#calculateSceneCoords">calculateSceneCoords</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#call">call</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#callAutorunEvents">callAutorunEvents</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#callSpecialEvent">callSpecialEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#changeRelation">changeRelation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#checkIfRemovedHover">checkIfRemovedHover</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#clearGlobalActors">clearGlobalActors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#compileEvents">compileEvents</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#continue">continue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#convertToScreenCoords">convertToScreenCoords</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createAutotileMap">createAutotileMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createEasingMap">createEasingMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createElement">createElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createFollower">createFollower</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createMembers">createMembers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createPath">createPath</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createPlayer">createPlayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createUnitPath">createUnitPath</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#decodeClone">decodeClone</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#decodeTeamData">decodeTeamData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#decodeTerrains">decodeTerrains</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#decodeTiles">decodeTiles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#deleteGameData">deleteGameData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#disable">disable</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#displayErrorMessage">displayErrorMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#doubleclick">doubleclick</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#emit">emit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#emitInputEvent">emitInputEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#enable">enable</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#encodeTeamData">encodeTeamData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#encodeTerrains">encodeTerrains</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#executeCallbacks">executeCallbacks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#find">find</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#follow">follow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#gamepadbuttonpress">gamepadbuttonpress</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#gamepadbuttonrelease">gamepadbuttonrelease</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#gamepadleftstickchange">gamepadleftstickchange</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#gamepadrightstickchange">gamepadrightstickchange</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#generate32bit">generate32bit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#generate64bit">generate64bit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getElementAtMouse">getElementAtMouse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getGroup">getGroup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getItem">getItem</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getKey">getKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getKeys">getKeys</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getName">getName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getParallaxAnchor">getParallaxAnchor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getPathByGUID">getPathByGUID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getPointerEventRoot">getPointerEventRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getRelationByIndexes">getRelationByIndexes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getValue">getValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isEnemy">isEnemy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isFriendly">isFriendly</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isMacOS">isMacOS</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#keydown">keydown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#keydownFilter">keydownFilter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#keyup">keyup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadData">loadData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadFile">loadFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadGameData">loadGameData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadGlobalData">loadGlobalData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadMeta">loadMeta</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadObjects">loadObjects</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadPresets">loadPresets</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadSaveMeta">loadSaveMeta</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadScene">loadScene</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadScripts">loadScripts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadUI">loadUI</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mousedown">mousedown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mousedownLB">mousedownLB</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mousedownRB">mousedownRB</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mouseleave">mouseleave</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mousemove">mousemove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mouseup">mouseup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mouseupLB">mouseupLB</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mouseupRB">mouseupRB</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#moveTo">moveTo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#off">off</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#on">on</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#onTransitionEnd">onTransitionEnd</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#open">open</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseCSSColor">parseCSSColor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseDateTimestamp">parseDateTimestamp</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseFloatArray">parseFloatArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseFloatArrayTag">parseFloatArrayTag</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseGUID">parseGUID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseInt">parseInt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseIntArray">parseIntArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pointerdown">pointerdown</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pointerenter">pointerenter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pointerleave">pointerleave</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pointermove">pointermove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pointerup">pointerup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pop">pop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompile">precompile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileActors">precompileActors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileAnimations">precompileAnimations</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileEquipments">precompileEquipments</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileItems">precompileItems</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileSkills">precompileSkills</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileStates">precompileStates</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#precompileTriggers">precompileTriggers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#preventInput">preventInput</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#push">push</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#remapScripts">remapScripts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeItem">removeItem</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeLatestPointerEventRoot">removeLatestPointerEventRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeMember">removeMember</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removePointerEventRoot">removePointerEventRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#render">render</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#renderLoadingProgress">renderLoadingProgress</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#resetPointerEventRoots">resetPointerEventRoots</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#resize">resize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#restoreInput">restoreInput</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#rotateAndScaleCanvas">rotateAndScaleCanvas</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#route">route</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#saveGameData">saveGameData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#saveGlobalData">saveGlobalData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#scaleCanvas">scaleCanvas</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#set">set</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setBypass">setBypass</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setItem">setItem</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setPlayer">setPlayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setTimeScale">setTimeScale</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setToHighestPriority">setToHighestPriority</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setZoomFactor">setZoomFactor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#shake">shake</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#shareInventory">shareInventory</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#simulateButton">simulateButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#simulateKey">simulateKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#start">start</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#stop">stop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#switchGameInfoDisplay">switchGameInfoDisplay</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#testConditions">testConditions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#unfollow">unfollow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#unpack">unpack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#unpackTeamData">unpackTeamData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#update">update</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#updateLoadingProgress">updateLoadingProgress</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#wheel">wheel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#xhr">xhr</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">actor.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict'

// ********************************  ********************************

const Party = new class {
  /** 
   *  @type {Actor|null}
   */ player = null

  /** 
   *  @type {Array&lt;Actor>}
   */ members = []

  /** ID
   *  @type {string}
   */ inventoryId = ''

  /** ()
   *  @type {number}
   */ version = 0

  /**  */
  initialize() {
    this.createPlayer()
    this.createMembers()
    this.shareInventory()
  }

  /**  */
  reset() {
    this.player = null
    this.members = []
    this.inventoryId = ''
    this.createPlayer()
    this.createMembers()
    this.shareInventory()
  }

  /**  */
  createPlayer() {
    const {playerTeam, playerActor} = Data.config.actor
    const actor = ActorManager.create(playerActor)
    if (actor) {
      actor.setTeam(playerTeam)
      this.setPlayer(actor)
    }
  }

  /**  */
  createMembers() {
    const {playerTeam, partyMembers} = Data.config.actor
    for (const actorId of partyMembers) {
      const actor = ActorManager.get(actorId) ?? ActorManager.create(actorId)
      if (actor) {
        actor.setTeam(playerTeam)
        this.addMember(actor)
      }
    }
  }

  /**
   * 
   * @param {GlobalActor} actor 
   */
  setPlayer(actor) {
    if (actor instanceof GlobalActor &amp;&amp; !actor.destroyed) {
      this.player = actor
    }
  }

  /**
   * 
   * @param {GlobalActor} actor 
   */
  addMember(actor) {
    if (actor instanceof GlobalActor &amp;&amp; !actor.destroyed) {
      if (this.members.append(actor)) {
        if (this.inventoryId) {
          const inventoryActor = ActorManager.get(this.inventoryId)
          if (inventoryActor instanceof GlobalActor) {
            actor.useInventory(inventoryActor.inventory)
          }
        }
        this.version++
      }
    }
  }

  /**
   * 
   * @param {GlobalActor} actor 
   */
  removeMember(actor) {
    if (actor instanceof GlobalActor) {
      if (this.members.remove(actor)) {
        if (actor.inventory.actor !== actor &amp;&amp;
          actor.inventory.actor.data.id === this.inventoryId) {
          actor.restoreInventory()
        }
        this.version++
      }
    }
  }

  /**  */
  shareInventory() {
    if (Data.config.actor.partyInventory === 'shared') {
      if (this.player instanceof GlobalActor) {
        this.inventoryId = this.player.data.id
        for (const actor of this.members) {
          actor.useInventory(this.player.inventory)
        }
      }
    }
  }

  /**  */
  saveData() {
    return {
      player: this.player?.data.id ?? '',
      members: this.members.map(a => a.data.id),
    }
  }

  /**
   * 
   * @param {Object} party
   */
  loadData(party) {
    const {player, members} = party
    this.player = ActorManager.get(player) ?? null
    this.members = []
    for (const member of members) {
      const actor = ActorManager.get(member)
      if (actor) this.addMember(actor)
    }
  }
}

// ********************************  ********************************

const Team = new class {
  /** 
   *  @type {Array&lt;string>}
   */ list

  /** (ID)
   *  @type {Array&lt;string>}
   */ keys

  /** (ID)
   *  @type {Array&lt;string>}
   */ map

  /** ID
   *  @type {string}
   */ defaultId

  /** (0:, 1:)
   *  @type {Uint8Array}
   */ relationMap = new Uint8Array(65536)

  /** (0:, 1:)
   *  @type {Uint8Array}
   */ collisionMap = new Uint8Array(65536)

  /**  */
  initialize() {
    // 
    const map = {}
    const teams = Data.teams.list
    const keys = teams.map(team => team.id)
    this.list = teams
    this.keys = keys
    this.map = map
    const data = this.unpackTeamData(keys, Data.teams)
    const length = teams.length
    for (let i = 0; i &lt; length; i++) {
      const team = teams[i]
      const key = keys[i]
      team.index = i
      team.relations = data.relationsMap[key]
      team.collisions = data.collisionsMap[key]
      map[team.id] = team
      for (let j = 0; j &lt; length; j++) {
        this.relationMap[i | j &lt;&lt; 8] = team.relations[keys[j]]
        this.collisionMap[i | j &lt;&lt; 8] = team.collisions[keys[j]]
      }
    }
    this.defaultId = keys[0]
  }

  /**
   * 
   * @param {string[]} keys ID
   * @param {string} code 
   * @returns {Object}
   */
  unpackTeamData(keys, data) {
    const relationsMap = {}
    const collisionsMap = {}
    const length = keys.length
    // 
    const sRelations = Codec.decodeTeamData(data.relations, length)
    const sCollisions = Codec.decodeTeamData(data.collisions, length)
    const a = length * 2
    // 
    for (let i = 0; i &lt; length; i++) {
      const dRelations = {}
      const dCollisions = {}
      for (let j = 0; j &lt; i; j++) {
        const ri = (a - j + 1) / 2 * j - j + i
        dRelations[keys[j]] = sRelations[ri]
        dCollisions[keys[j]] = sCollisions[ri]
      }
      const b = (a - i + 1) / 2 * i - i
      for (let j = i; j &lt; length; j++) {
        const ri = b + j
        dRelations[keys[j]] = sRelations[ri]
        dCollisions[keys[j]] = sCollisions[ri]
      }
      relationsMap[keys[i]] = dRelations
      collisionsMap[keys[i]] = dCollisions
    }
    return {relationsMap, collisionsMap}
  }

  /**
   * ID
   * @param {string} teamId ID
   * @returns {Object} 
   */
  get(teamId) {
    return this.map[teamId]
  }

  /**
   * 
   * @param {number} teamIndex1 1
   * @param {number} teamIndex2 2
   * @returns {number} (0:, 1:)
   */
  getRelationByIndexes(teamIndex1, teamIndex2) {
    return this.relationMap[teamIndex1 | teamIndex2 &lt;&lt; 8]
  }

  /**
   * 
   * @param {string} teamId1 ID1
   * @param {string} teamId2 ID2
   * @returns {boolean} 
   */
  isEnemy(teamId1, teamId2) {
    return this.map[teamId1]?.relations[teamId2] === 0
  }

  /**
   * 
   * @param {string} teamId1 ID1
   * @param {string} teamId2 ID2
   * @returns {boolean} 
   */
  isFriendly(teamId1, teamId2) {
    return this.map[teamId1]?.relations[teamId2] === 1
  }

  /**
   * 
   * @param {string} teamId1 ID1
   * @param {string} teamId2 ID2
   * @param {number} relation 12(0:, 1:)
   */
  changeRelation(teamId1, teamId2, relation) {
    const team1 = this.get(teamId1)
    const team2 = this.get(teamId2)
    if (team1 &amp;&amp; team2) {
      team1.relations[teamId2] = relation
      team2.relations[teamId1] = relation
      this.relationMap[team1.index | team2.index &lt;&lt; 8] = relation
      this.relationMap[team2.index | team1.index &lt;&lt; 8] = relation
    }
  }

  /**  */
  saveData() {
    const keys = this.keys
    const teams = this.list
    const length = teams.length
    const dRelations = GL.arrays[0].uint8
    const dCollisions = GL.arrays[1].uint8
    let ri = 0
    // 
    for (let i = 0; i &lt; length; i++) {
      const team = teams[i]
      const sRelations = team.relations
      const sCollisions = team.collisions
      for (let j = i; j &lt; length; j++, ri++) {
        dRelations[ri] = sRelations[keys[j]]
        dCollisions[ri] = sCollisions[keys[j]]
      }
    }
    // 
    return {
      keys: keys,
      relations: Codec.encodeTeamData(new Uint8Array(dRelations.buffer, 0, ri)),
      collisions: Codec.encodeTeamData(new Uint8Array(dCollisions.buffer, 0, ri)),
    }
  }

  /**
   * 
   * @param {Object} team
   */
  loadData(team) {
    const sKeys = team.keys
    const data = this.unpackTeamData(sKeys, team)
    const dKeys = this.keys
    const teams = this.list
    const length = teams.length
    // 
    // 
    for (let i = 0; i &lt; length; i++) {
      const key = dKeys[i]
      const sRelations = data.relationsMap[key]
      const sCollisions = data.collisionsMap[key]
      if (!sRelations || !sCollisions) continue
      const team = teams[i]
      const dRelations = team.relations
      const dCollisions = team.collisions
      for (let j = 0; j &lt; length; j++) {
        const key = dKeys[j]
        const relation = sRelations[key]
        if (relation !== undefined) {
          dRelations[key] = relation
          this.relationMap[i | j &lt;&lt; 8] = relation
        }
        const collision = sCollisions[key]
        if (collision !== undefined) {
          dCollisions[key] = collision
          this.collisionMap[i | j &lt;&lt; 8] = collision
        }
      }
    }
  }
}

// ********************************  ********************************

const ActorManager = new class {
  /** 
   *  @type {Array&lt;Actor>}
   */ list = []

  /** ID(ID->)
   *  @type {Object}
   */ idMap = {}

  /**  */
  reset() {
    this.clearGlobalActors()
  }

  /**  */
  clearGlobalActors() {
    this.idMap = {}
    // 
    for (const actor of this.list) {
      for (const context of Scene.contexts) {
        // 
        if (context?.actors.includes(actor)) {
          context.actors.remove(actor)
        }
      }
      actor.destroy()
    }
    this.list = []
  }

  /**
   * 
   * @param {string} actorId ID
   * @param {Object} [savedData] 
   * @returns {GlobalActor|null}
   */
  create(actorId, savedData) {
    const data = Data.actors[actorId]
    if (!this.idMap[actorId] &amp;&amp; data) {
      // ID
      const actor = new GlobalActor(data, savedData)
      this.idMap[actorId] = actor
      this.list.push(actor)
      return actor
    }
    return null
  }

  /**
   * 
   * @param {string} actorId ID
   */
  delete(actorId) {
    const actor = this.idMap[actorId]
    if (actor) {
      for (const context of Scene.contexts) {
        // 
        if (context?.actors.includes(actor)) {
          context.actors.remove(actor)
        }
      }
      delete this.idMap[actorId]
      actor.destroy()
      this.list.remove(actor)
      Party.removeMember(actor)
      if (Party.player === actor) {
        Party.player = null
      }
    }
  }

  /**
   * 
   * @param {string} actorId ID
   * @returns {GlobalActor|undefined}
   */
  get(actorId) {
    return this.idMap[actorId]
  }

  /**  */
  saveData() {
    const actors = this.list
    const length = actors.length
    const data = new Array(length)
    for (let i = 0; i &lt; length; i++) {
      data[i] = actors[i].saveData()
    }
    return data
  }

  /**
   * 
   * @param {Object} actors
   */
  loadData(actors) {
    this.clearGlobalActors()
    // 
    for (const savedData of actors) {
      this.create(
        savedData.fileId,
        savedData,
      )
    }
  }
}

// ********************************  ********************************

class Actor {
  /** 
   *  @type {boolean}
   */ visible

  /** ID
   *  @type {string}
   */ entityId

  /** ID
   *  @type {string}
   */ presetId

  /** ID
   *  @type {string}
   */ selfVarId

  /** 
   *  @type {string}
   */ name

  /** ID
   *  @type {string}
   */ portrait

  /** 
   *  @type {Array&lt;number>}
   */ clip

  /** 
   *  @type {Object}
   */ data

  /** ID
   *  @type {number}
   */ cellId

  /** ID
   *  @type {number}
   */ gridId

  /** ID
   *  @type {string}
   */ teamId

  /** 
   *  @type {number}
   */ teamIndex

  /** 
   *  @type {boolean}
   */ active

  /** 
   *  @type {boolean}
   */ destroyed

  /** 
   *  @type {number}
   */ passage

  /** 
   *  @type {number}
   */ priority

  /** X
   *  @type {number}
   */ x

  /** Y
   *  @type {number}
   */ y

  /** X
   *  @type {number}
   */ intX

  /** Y
   *  @type {number}
   */ intY

  /** 
   *  @type {number}
   */ scale

  /** 
   *  @type {number}
   */ angle

  /** 
   *  @type {boolean}
   */ angleFixed

  /** 
   *  @type {number}
   */ hitTimestamp

  /** 
   *  @type {ActorCollider}
   */ collider

  /** 
   *  @type {ActorNavigator}
   */ navigator

  /** 
   *  @type {Animation}
   */ animation

  /** 
   *  @type {Object}
   */ sprites

  /** 
   *  @type {ModuleList}
   */ updaters

  /** 
   *  @type {Object}
   */ attributes

  /** 
   *  @type {AnimationController}
   */ animationController

  /** 
   *  @type {Array&lt;Animation>}
   */ animationManager

  /** 
   *  @type {SkillManager}
   */ skillManager

  /** 
   *  @type {StateManager}
   */ stateManager

  /** 
   *  @type {EquipmentManager}
   */ equipmentManager

  /** 
   *  @type {CooldownManager}
   */ cooldownManager

  /** 
   *  @type {ShortcutManager}
   */ shortcutManager

  /** 
   *  @type {TargetManager}
   */ targetManager

  /** 
   *  @type {Inventory}
   */ inventory

  /** 
   *  @type {Object}
   */ events

  /** 
   *  @type {Script}
   */ script

  /** 
   *  @type {SceneActorList|null}
   */ parent

  /** 
   *  @type {boolean}
   */ started

  /**
   * 
   * @param {ActorFile} data 
   * @param {Object} [savedData] 
   * @param {string} [presetId] ID
   */
  constructor(data, savedData, presetId = '') {
    this.visible = true
    this.entityId = ''
    this.presetId = presetId
    this.selfVarId = ''
    this.name = ''
    this.portrait = data.portrait
    this.clip = [...data.clip]
    this.data = data
    this.cellId = -1
    this.gridId = -1
    this.teamId = Team.defaultId
    this.teamIndex = 0
    this.active = true
    this.destroyed = false
    this.priority = data.priority
    this.x = 0
    this.y = 0
    this.scale = data.scale
    this.angle = 0
    this.angleFixed = false
    this.hitTimestamp = -100000000
    this.parent = null
    this.started = false

    // 
    this.collider = new ActorCollider(this)
    this.navigator = new ActorNavigator(this)
    this.animation = null
    this.sprites = null
    this.updaters = new ModuleList()
    this.attributes = null
    this.animationController = new AnimationController(this)
    this.animationManager = new AnimationManager(this)
    this.skillManager = new SkillManager(this)
    this.stateManager = new StateManager(this)
    this.equipmentManager = new EquipmentManager(this)
    this.cooldownManager = new CooldownManager(this)
    this.shortcutManager = new ShortcutManager(this)
    this.targetManager = new TargetManager(this)
    this.inventory = new Inventory(this)
    this.events = data.events
    this.script = Script.create(this, data.scripts)
    Actor.latest = this

    if (savedData) {
      // 
      this.visible = savedData.visible
      this.entityId = savedData.entityId
      this.presetId = savedData.presetId
      this.selfVarId = savedData.selfVarId
      this.name = savedData.name
      this.active = savedData.active
      this.passage = savedData.passage
      this.priority = savedData.priority
      this.portrait = savedData.portrait
      this.clip = savedData.clip
      this.scale = savedData.scale
      this.angle = savedData.angle
      this.sprites = savedData.sprites
      this.setTeam(savedData.teamId)
      this.setPosition(savedData.x, savedData.y)
      this.collider.weight = savedData.weight
      this.navigator.movementSpeed = savedData.movementSpeed
      this.navigator.movementFactor = savedData.movementFactor
      this.attributes = savedData.attributes
      this.animationController.loadData(savedData.motions)
      this.animationManager.loadData(savedData.animations)
      this.animation = this.animationManager.get('actor') ?? null
      this.animation?.setSpriteImages(savedData.sprites)
      this.animationController.bindAnimation(this.animation)
      this.skillManager.loadData(savedData.skills)
      this.stateManager.loadData(savedData.states)
      this.equipmentManager.loadData(savedData.equipments)
      this.cooldownManager.loadData(savedData.cooldowns)
      this.shortcutManager.loadData(savedData.shortcuts)
      this.inventory.loadData(savedData.inventory)
      EntityManager.add(this)
    } else {
      // 
      EntityManager.add(this)
      this.setPassage(data.passage)
      this.setAnimation(data.animationId)
      this.loadSprites()
      this.loadAttributes()
      this.loadSkills()
      this.loadEquipments()
      this.emit('create')
    }

    // 
    Actor.defineTempAttributes(this.attributes)
  }

  /**  */
  loadSprites() {
    const map = {}
    const sprites = this.data.sprites
    const length = sprites.length
    // 
    for (let i = 0; i &lt; length; i++) {
      const sprite = sprites[i]
      map[sprite.id] = sprite.image
    }
    this.sprites = map
    // 
    this.animation?.setSpriteImages(map)
  }

  /**  */
  loadAttributes() {
    Attribute.loadEntries(
      this.attributes = {},
      this.data.attributes,
    )
  }

  /**  */
  loadSkills() {
    const {skillManager} = this
    const dataMap = Data.skills
    const skills = this.data.skills
    const length = skills.length
    // 
    for (let i = 0; i &lt; length; i++) {
      const skill = skills[i]
      const data = dataMap[skill.id]
      const key = Enum.get(skill.key)
      if (data !== undefined) {
        const skill = new Skill(data)
        skillManager.add(skill)
        if (key) {
          this.shortcutManager.set(key.value, skill)
        }
      }
    }
  }

  /**  */
  loadEquipments() {
    const {equipmentManager} = this
    const dataMap = Data.equipments
    const equipments = this.data.equipments
    const length = equipments.length
    // 
    for (let i = 0; i &lt; length; i++) {
      const equipment = equipments[i]
      const data = dataMap[equipment.id]
      const slot = Enum.get(equipment.slot)
      if (data !== undefined &amp;&amp; slot !== undefined) {
        equipmentManager.set(slot.value, new Equipment(data))
      }
    }
  }

  /**
   * 
   * @param {number} angle ()
   * @param {number} distance (:)
   * @param {string} [easingId] ID
   * @param {number} [duration] ()
   * @param {string} [key] ()
   */
  translate(angle, distance, easingId, duration, key = 'translate') {
    const distX = distance * Math.cos(angle)
    const distY = distance * Math.sin(angle)
    if (duration > 0) {
      // set:
      // 
      let elapsed = 0
      let lastTime = 0
      const easing = Easing.get(easingId)
      this.updaters.set(key, {
        protected: true,
        update: deltaTime => {
          // 
          elapsed += deltaTime
          const time = easing.map(elapsed / duration)
          const increase = time - lastTime
          const x = distX * increase
          const y = distY * increase
          this.move(x, y)
          lastTime = time
          // 
          if (elapsed >= duration) {
            this.updaters.deleteDelay(key)
          }
        }
      })
    } else {
      // 
      this.updaters.deleteDelay(key)
      const x = this.x + distX
      const y = this.y + distY
      this.setPosition(x, y)
    }
  }

  /**
   * 
   * @param {number} scale 
   * @param {string} easingId ID
   * @param {number} [duration] ()
   */
  setScale(scale, easingId, duration) {
    if (duration > 0) {
      // set:
      // 
      let elapsed = 0
      const start = this.scale
      const easing = Easing.get(easingId)
      this.updaters.set('scale', {
        protected: true,
        update: deltaTime => {
          // 
          elapsed += deltaTime
          const time = easing.map(elapsed / duration)
          this.scale = start * (1 - time) + scale * time
          this.animationManager.setGlobalScale(this.scale)
          // 
          if (elapsed >= duration) {
            this.updaters.deleteDelay('scale')
          }
        }
      })
    } else {
      // 
      this.updaters.deleteDelay('scale')
      this.scale = scale
      this.animationManager.setGlobalScale(this.scale)
    }
  }

  /**
   * 
   * @param {number} angle ()
   * @param {string} [easingId] ID
   * @param {number} [duration] ()
   */
  setAngle(angle, easingId, duration) {
    if (duration > 0) {
      this.rotate(angle - this.angle, easingId, duration)
    } else {
      // 
      this.updaters.deleteDelay('rotate')
      this.updateAngle(angle)
    }
  }

  /**
   * 
   * @param {number} angle ()
   * @param {string} [easingId] ID
   * @param {number} [duration] ()
   * @param {string} [key] ()
   */
  rotate(angle, easingId, duration, key = 'rotate') {
    if (duration > 0) {
      // set:
      // 
      let elapsed = 0
      let lastTime = 0
      const easing = Easing.get(easingId)
      this.updaters.set(key, {
        protected: true,
        update: deltaTime => {
          // 
          elapsed += deltaTime
          const time = easing.map(elapsed / duration)
          this.updateAngle(this.angle + angle * (time - lastTime))
          lastTime = time
          // 
          if (elapsed >= duration) {
            this.updaters.deleteDelay(key)
          }
        }
      })
    } else {
      // 
      this.updaters.deleteDelay(key)
      this.updateAngle(this.angle + angle)
    }
  }

  /**
   * 
   * @param {string} animationId ID
   */
  setAnimation(animationId) {
    const data = Data.animations[animationId]
    if (data) {
      // ID
      const animation = new Animation(data)
      animation.rotatable = this.data.rotatable
      animation.syncAngle = true
      this.animationManager.set('actor', animation)
      this.animation = animation
    } else if (this.animation) {
      // 
      this.animationManager.delete('actor')
      this.animation = null
    }
    // 
    this.animationController.bindAnimation(this.animation)
  }

  /**
   * 
   * @param {string} spriteId ID
   * @param {string} imageId ID
   */
  setSprite(spriteId, imageId) {
    // 
    this.sprites[spriteId] = imageId
    // 
    this.animation?.deleteTexture(spriteId)
  }

  /**
   * 
   * @param {string} teamId ID
   */
  setTeam(teamId) {
    const team = Team.get(teamId)
    if (team !== undefined) {
      this.teamId = teamId
      this.teamIndex = team.index
    }
  }

  /**
   * 
   * @param {string} passage 
   */
  setPassage(passage) {
    this.passage = Actor.passageMap[passage]
  }

  /**
   * 
   * @param {number} x X
   * @param {number} y Y
   */
  move(x, y) {
    this.x += x
    this.y += y
    // 
    this.collider.moved = true
  }

  /**
   * 
   * @param {number} x X
   * @param {number} y Y
   */
  setPosition(x, y) {
    this.x = x
    this.y = y
    this.updateGridPosition()
    // 
    this.collider.moved = true
  }

  /**
   * 
   */
  updateGridPosition() {
    this.intX = Math.floor(this.x)
    this.intY = Math.floor(this.y)
  }

  /**
   * 
   */
  updateHitTimestamp() {
    this.hitTimestamp = Time.elapsed
  }

  /**
   * 
   * @param {boolean} active 
   */
  setActive(active) {
    if (this.active !== active) {
      this.active = active
      // 
      if (!active) {
        this.targetManager.reset()
      }
    }
  }

  /**
   * ()
   * @returns {boolean}
   */
  isActive() {
    return this.active &amp;&amp; this.parent !== null
  }

  /**
   * 
   * @param {number} angle 
   */
  updateAngle(angle) {
    if (this.angleFixed) return
    angle = Math.modRadians(angle)
    // 
    // 
    if (Math.abs(this.angle - angle) >= 0.0001) {
      this.angle = angle
      this.animationManager.setAngle(angle)
    }
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  update(deltaTime) {
    // 
    this.navigator.update(deltaTime)

    // 
    this.animationManager.update(deltaTime)

    // 
    if (this.active) {
      this.updaters.update(deltaTime)
    } else {
      // 
      for (const updater of this.updaters) {
        if (updater.protected) {
          updater.update(deltaTime)
        }
      }
    }
  }

  /**
   * 
   * @param {Inventory} inventory 
   */
  useInventory(inventory) {
    if (this.inventory !== inventory) {
      if (!this.savedInventory) {
        this.savedInventory = this.inventory
      }
      this.inventory = inventory
    }
  }

  /**
   * 
   */
  restoreInventory() {
    if (this.savedInventory) {
      this.inventory = this.savedInventory
      delete this.savedInventory
    }
  }

  /**
   * 
   * @param {string} type 
   * @returns {EventHandler|undefined}
   */
  callEvent(type) {
    const commands = this.events[type]
    if (commands) {
      const event = new EventHandler(commands)
      event.triggerActor = this
      event.selfVarId = this.selfVarId
      return EventHandler.call(event, this.updaters)
    }
  }

  /**
   * 
   * @param {string} type 
   */
  emit(type) {
    this.callEvent(type)
    this.script.emit(type, this)
  }

  // 
  autorun() {
    if (this.started === false) {
      this.started = true
      this.emit('autorun')
    }
  }

  /**  */
  destroy() {
    if (!this.destroyed) {
      EntityManager.remove(this)
      this.parent?.remove(this)
      this.destroyed = true
      this.active = false
      this.targetManager.reset()
      this.animationManager.destroy()
      this.emit('destroy')
    }
  }

  /**  */
  saveData() {
    return {
      visible: this.visible,
      entityId: this.entityId,
      presetId: this.presetId,
      selfVarId: this.selfVarId,
      fileId: this.data.id,
      teamId: this.teamId,
      active: this.active,
      passage: this.passage,
      priority: this.priority,
      name: this.name,
      x: this.x,
      y: this.y,
      scale: this.scale,
      angle: this.angle,
      portrait: this.portrait,
      clip: this.clip,
      sprites: this.sprites,
      weight: this.collider.weight,
      motions: this.animationController.saveData(),
      movementSpeed: this.navigator.movementSpeed,
      movementFactor: this.navigator.movementFactor,
      attributes: this.attributes,
      animations: this.animationManager.saveData(),
      skills: this.skillManager.saveData(),
      states: this.stateManager.saveData(),
      equipments: this.equipmentManager.saveData(),
      cooldowns: this.cooldownManager.saveData(),
      shortcuts: this.shortcutManager.saveData(),
      inventory: this.inventory.saveData(this),
    }
  }

  /** 
   *  @type {Actor|undefined}
   */ static latest

  /** 
   *  @type {Function}
   */ static defineTempAttributes

  /**  */
  static passageMap = {
    land: 0,
    water: 1,
    unrestricted: -1,
  }

  /**  */
  static initialize() {
    // 
    let hasAttributes = false
    const properties = {}
    for (const entry of Data.config.actor.tempAttributes) {
      const attr = Attribute.get(entry.key)
      if (!attr) continue
      let value = entry.value
      if (attr.type === 'enum') {
        const enumstr = Enum.get(value)
        if (!enumstr) continue
        value = enumstr.value
      }
      hasAttributes = true
      properties[attr.key] = {
        configurable: true,
        writable: true,
        value: value,
      }
    }
    // 
    if (hasAttributes) {
      this.defineTempAttributes = attributes => {
        Object.defineProperties(attributes, properties)
      }
    } else {
      this.defineTempAttributes = Function.empty
    }
  }

  // 
  static inspectors = new class {
    //  - 
    'enemy' = (a, b) => {
      return Team.relationMap[a.teamIndex | b.teamIndex &lt;&lt; 8] === 0 &amp;&amp; a !== b
    }

    //  - 
    'friend' = (a, b) => {
      return Team.relationMap[a.teamIndex | b.teamIndex &lt;&lt; 8] === 1
    }

    //  - 
    'team' = (a, b) => {
      return a.teamId === b.teamId
    }

    //  - 
    'team-except-self' = (a, b) => {
      return a !== b &amp;&amp; a.teamId === b.teamId
    }

    //  - 
    'any-except-self' = (a, b) => {
      return a !== b
    }

    //  - 
    'any' = (a, b) => {
      return true
    }
  }
}

// ********************************  ********************************

class GlobalActor extends Actor {
  /**
   * 
   * @param {number} x X
   * @param {number} y Y
   */
  transferToScene(x, y) {
    if (Scene.binding &amp;&amp; !this.destroyed) {
      this.parent?.remove(this)
      this.setPosition(x, y)
      this.targetManager.reset()
      Scene.actors.append(this)
    }
  }

  /**  */
  destroy() {
    if (ActorManager.get(this.data.id) === this) {
      // 
      this.parent?.remove(this)
      this.navigator.stopMoving()
      this.targetManager.reset()
      this.animationManager.release()
    } else {
      super.destroy()
    }
  }
}

// ********************************  ********************************

class AnimationManager {
  constructor(actor) {
    this.actor = actor
    this.scale = actor.scale
    this.existParticles = false
    this.list = []
    this.keyMap = {}
  }

  /**
   * 
   * @param {string} key 
   * @returns {Animation|undefined}
   */
  get(key) {
    return this.keyMap[key]
  }

  /**
   * 
   * @param {string} key 
   * @param {Animation} animation 
   */
  set(key, animation) {
    if (key &amp;&amp; this.keyMap[key] !== animation) {
      animation.key = key
      animation.parent = this
      animation.setPosition(this.actor)
      // 
      if (animation.rawScale === undefined) {
        animation.rawScale = animation.scale
        animation.scale *= this.scale
      }
      // Y
      if (animation.rawOffsetY === undefined) {
        animation.rawOffsetY = animation.offsetY
        animation.offsetY *= this.scale
      }
      // ()
      const oldAnim = this.keyMap[key]
      if (oldAnim instanceof Animation) {
        // 
        animation.rawScale = oldAnim.rawScale
        animation.scale = oldAnim.scale
        animation.speed = oldAnim.speed
        animation.opacity = oldAnim.opacity
        animation.setMotion(oldAnim.motionName)
        animation.setAngle(oldAnim.angle)
        oldAnim.destroy()
        this.list.replace(oldAnim, animation)
        this.keyMap[key] = animation
      } else {
        this.list.push(animation)
        this.keyMap[key] = animation
      }
      this.sort()
    }
  }

  /**
   * 
   * @param {string} key 
   */
  delete(key) {
    const animation = this.keyMap[key]
    if (animation) {
      animation.destroy()
      this.list.remove(animation)
      delete this.keyMap[key]
    }
  }

  /**
   * ()
   * @param {string} key 
   * @param {string} motionName 
   * @returns {Animation|undefined}
   */
  playMotion(key, motionName) {
    const animation = this.get(key)
    if (animation?.setMotion(motionName)) {
      animation.playing = true
      // 
      const callback = () => {
        if (animation.playing) {
          // 
          animation.playing = false
          if (animation.setMotion(animation.defaultMotion)) {
            animation.restart()
          }
        } else {
          animation.onFinish(callback)
        }
      }
      animation.restart()
      animation.onFinish(callback)
      // 
      return animation
    }
    return undefined
  }

  /**
   * 
   * @param {string} key 
   */
  stopMotion(key) {
    this.get(key)?.finish()
  }

  /**
   * 
   * @param {string} key 
   * @param {number} scale 
   */
  setGlobalScale(scale) {
    this.scale = scale
    for (const animation of this.list) {
      animation.scale = animation.rawScale * scale
      animation.offsetY = animation.rawOffsetY * scale
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {number} scale 
   */
  setScale(key, scale) {
    const animation = this.keyMap[key]
    if (animation) {
      animation.rawScale = scale
      animation.scale = scale * this.scale
    }
  }

  /**
   * 
   * @param {number} angle ()
   */
  setAngle(angle) {
    for (const animation of this.list) {
      if (animation.syncAngle) {
        if (animation.playing) {
          animation.playing = false
          animation.setAngle(angle)
          animation.playing = true
        } else {
          animation.setAngle(angle)
        }
      }
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {number} priority 
   */
  setPriority(key, priority) {
    const animation = this.keyMap[key]
    if (animation) {
      animation.priority = priority
      this.sort()
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {number} offsetY 
   */
  setOffsetY(key, offsetY) {
    const animation = this.keyMap[key]
    if (animation) {
      animation.rawOffsetY = offsetY
      animation.offsetY = offsetY * this.scale
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {string} spriteId ID
   * @param {string} imageId ID
   */
  setSprite(key, spriteId, imageId) {
    const animation = this.keyMap[key]
    if (animation &amp;&amp; spriteId) {
      // 
      if (!animation.priorityImages) {
        animation.priorityImages = {}
        animation.setSpriteImages(animation.priorityImages)
      }
      // 
      animation.priorityImages[spriteId] = imageId
      //  - 
      // if (animation.priorityImages) {
      //   // 
      //   delete animation.priorityImages[spriteId]
      //   // 
      //   if (Object.keys(animation.priorityImages).length === 0) {
      //     animation.restoreSpriteImages()
      //     delete animation.priorityImages
      //   }
      // }
      // 
      animation?.deleteTexture(spriteId)
    }
  }

  /**  */
  sort() {
    this.list.sort(AnimationManager.sorter)
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  update(deltaTime) {
    this.existParticles = false
    for (const animation of this.list) {
      animation.update(deltaTime)
      if (animation.existParticles) {
        this.existParticles = true
      }
    }
  }

  /**
   * 
   */
  draw() {
    for (const animation of this.list) {
      animation.draw()
    }
  }

  /**
   * 
   * @param {number} x X
   * @param {number} y Y
   */
  activate(drawX, drawY, lightX, lightY) {
    for (const animation of this.list) {
      animation.activate(drawX, drawY, lightX, lightY)
    }
  }

  /**  */
  release() {
    for (const animation of this.list) {
      animation.release()
    }
  }

  /**  */
  destroy() {
    for (const animation of this.list) {
      // 
      animation.finish()
      animation.destroy()
    }
  }

  /**  */
  saveData() {
    const length = this.list.length
    const animations = new Array(length)
    for (let i = 0; i &lt; length; i++) {
      const animation = this.list[i]
      // jsonundefined
      animations[i] = {
        id: animation.data.id,
        key: animation.key,
        rotatable: animation.rotatable,
        syncAngle: animation.syncAngle,
        angle: animation.angle,
        scale: animation.rawScale,
        speed: animation.speed,
        opacity: animation.opacity,
        priority: animation.priority,
        offsetY: animation.rawOffsetY,
        motion: animation.defaultMotion ?? undefined,
        images: animation.priorityImages ?? undefined,
      }
    }
    return animations
  }

  /**
   * 
   * @param {Object[]} animations
   */
  loadData(animations) {
    this.scale = this.actor.scale
    for (const savedData of animations) {
      const data = Data.animations[savedData.id]
      if (data) {
        const animation = new Animation(data)
        animation.key = savedData.key
        animation.playing = false
        animation.rotatable = savedData.rotatable
        animation.syncAngle = savedData.syncAngle
        animation.rawScale = savedData.scale
        animation.scale = savedData.scale * this.scale
        animation.speed = savedData.speed
        animation.opacity = savedData.opacity
        animation.priority = savedData.priority
        animation.rawOffsetY = savedData.offsetY
        animation.offsetY = savedData.offsetY * this.scale
        animation.parent = this
        animation.setPosition(this.actor)
        animation.setAngle(savedData.angle)
        if (savedData.motion) {
          animation.defaultMotion = savedData.motion
          animation.setMotion(savedData.motion)
        }
        if (savedData.images) {
          animation.priorityImages = savedData.images
          animation.setSpriteImages(savedData.images)
        }
        this.list.push(animation)
        this.keyMap[animation.key] = animation
      }
    }
  }

  /**  */
  static sorter = (a, b) => a.priority - b.priority
}

// ********************************  ********************************

class SkillManager {
  /** 
   *  @type {Actor}
   */ actor

  /** ID
   *  @type {Object}
   */ idMap

  /** 
   *  @type {CooldownList}
   */ cooldownList

  /** ()
   *  @type {number}
   */ version

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.actor = actor
    this.idMap = {}
    this.cooldownList = new SkillCooldownList(actor)
    this.version = 0
  }

  /**
   * 
   * @param {string} id ID
   * @returns {Skill|undefined}
   */
  get(id) {
    return this.idMap[id]
  }

  /**
   * 
   * @param {Skill} skill 
   */
  add(skill) {
    const {id} = skill
    const {idMap} = this
    // 
    if (!idMap[id]) {
      idMap[id] = skill
      this.version++
      skill.parent = this
      skill.emit('skilladd')
    }
  }

  /**
   * 
   * @param {Skill} skill 
   */
  remove(skill) {
    const {id} = skill
    const {idMap} = this
    // 
    if (idMap[id] === skill) {
      delete idMap[id]
      this.version++
      skill.emit('skillremove')
      skill.parent = null
    }
  }

  /**
   * 
   * @param {string} id ID
   */
  delete(id) {
    // ID
    const skill = this.idMap[id]
    if (skill) this.remove(skill)
  }

  /**  */
  sort() {
    const idMap = {}
    // idMap
    const list = Object.values(this.idMap).sort(
      (a, b) => a.data.filename.localeCompare(b.data.filename)
    )
    // idMap
    const length = list.length
    for (let i = 0; i &lt; length; i++) {
      const skill = list[i]
      idMap[skill.id] = skill
    }
    this.idMap = idMap
    this.version++
  }

  /**  */
  saveData() {
    const skills = Object.values(this.idMap)
    const length = skills.length
    for (let i = 0; i &lt; length; i++) {
      skills[i] = skills[i].saveData()
    }
    return skills
  }

  /**
   * 
   * @param {Object[]} skills
   */
  loadData(skills) {
    const dataMap = Data.skills
    const {idMap, cooldownList} = this
    for (const savedData of skills) {
      const id = savedData.id
      const data = dataMap[id]
      if (data) {
        // 
        const skill = new Skill(data, savedData)
        idMap[id] = skill
        skill.parent = this
        // 
        // 
        if (skill.cooldown !== 0) {
          cooldownList.append(skill)
        }
      }
    }
  }
}

// ********************************  ********************************

class SkillCooldownList extends Array {
  /** 
   *  @type {Actor}
   */ actor

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    super()
    this.actor = actor
  }

  /**
   * 
   * @param {Skill} skill 
   */
  append(skill) {
    // 
    if (this.length === 0) {
      Callback.push(() => {
        this.actor.updaters.add(this)
      })
    }
    super.append(skill)
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  update(deltaTime) {
    let i = this.length
    // 
    while (--i >= 0) {
      // 
      if ((this[i].cooldown -= deltaTime) &lt;= 0) {
        this[i].cooldown = 0
        this[i].duration = 0
        this.splice(i, 1)
        // 
        if (this.length === 0) {
          Callback.push(() => {
            this.actor.updaters.remove(this)
          })
        }
      }
    }
  }
}

// ********************************  ********************************

class Skill {
  /** ID
   *  @type {string}
   */ id

  /** 
   *  @type {Object}
   */ data

  /** ID
   *  @type {string}
   */ icon

  /** 
   *  @type {Array&lt;number>}
   */ clip

  /** 
   *  @type {number}
   */ cooldown

  /** 
   *  @type {number}
   */ duration

  /** 
   *  @type {Object}
   */ attributes

  /** 
   *  @type {Object}
   */ events

  /** 
   *  @type {Script}
   */ script

  /** 
   *  @type {SkillManager|null}
   */ parent

  /**
   * 
   * @param {SkillFile} data 
   * @param {Object} [savedData] 
   */
  constructor(data, savedData) {
    this.id = data.id
    this.data = data
    this.icon = data.icon
    this.clip = data.clip
    this.cooldown = 0
    this.duration = 0
    this.attributes = null
    this.events = data.events
    this.script = Script.create(this, data.scripts)
    this.parent = null
    Skill.latest = this

    if (savedData) {
      // 
      this.cooldown = savedData.cooldown
      this.duration = savedData.duration
      this.attributes = savedData.attributes
    } else {
      // 
      Attribute.loadEntries(
        this.attributes = {},
        data.attributes,
      )
    }
  }

  /**  */
  get progress() {
    return this.cooldown === 0 ? 0 : this.cooldown / this.duration
  }

  /**  */
  cast() {
    // 
    if (this.cooldown === 0 &amp;&amp;
      this.parent?.actor.isActive()) {
      return this.emit('skillcast')
    }
  }

  /**
   * 
   * @param {number} cooldown ()
   */
  setCooldown(cooldown) {
    if (cooldown >= 0 &amp;&amp;
      this.cooldown !== cooldown) {
      this.cooldown = cooldown
      this.duration = cooldown
      // 
      this.parent?.cooldownList.append(this)
    }
  }

  /**
   * 
   * @param {number} cooldown ()
   */
  increaseCooldown(cooldown) {
    if (cooldown > 0) {
      this.cooldown += cooldown
      this.duration = Math.max(this.cooldown, this.duration)
      // 
      this.parent?.cooldownList.append(this)
    }
  }

  /**
   * 
   * @param {number} cooldown ()
   */
  decreaseCooldown(cooldown) {
    if (cooldown > 0) {
      this.cooldown = Math.max(this.cooldown - cooldown, 0)
    }
  }

  /**  */
  remove() {
    this.parent?.remove(this)
  }

  /**
   * 
   * @param {string} type 
   * @returns {EventHandler|undefined}
   */
  callEvent(type) {
    const commands = this.events[type]
    const actor = this.parent?.actor
    if (commands) {
      const event = new EventHandler(commands)
      event.triggerSkill = this
      event.triggerActor = actor
      event.casterActor = actor
      EventHandler.call(event, actor?.updaters)
      return event
    }
  }

  /**
   * 
   * @param {string} type 
   * @returns {EventHandler|undefined}
   */
  emit(type) {
    const event = this.callEvent(type)
    this.script.emit(type, this)
    return event
  }

  /**  */
  saveData() {
    return {
      id: this.id,
      cooldown: this.cooldown,
      duration: this.duration,
      attributes: this.attributes,
    }
  }

  /** 
   *  @type {Skill|undefined}
   */ static latest
}

// ********************************  ********************************

class StateManager {
  /** 
   *  @type {Actor}
   */ actor

  /** ID
   *  @type {Object}
   */ idMap

  /** 
   *  @type {StateCountdownList}
   */ countdownList

  /** ()
   *  @type {number}
   */ version

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.actor = actor
    this.idMap = {}
    this.countdownList = new StateCountdownList(this)
    this.version = 0
  }

  /**
   * 
   * @param {string} id ID
   * @returns {State|undefined}
   */
  get(id) {
    return this.idMap[id]
  }

  /**
   * 
   * @param {State} state 
   */
  add(state) {
    const {id} = state
    const {idMap} = this
    // 
    if (id in idMap) {
      this.remove(idMap[id])
    }
    idMap[id] = state
    this.version++
    this.countdownList.append(state)
    state.parent = this
    state.emit('stateadd')
  }

  /**
   * 
   * @param {State} state 
   */
  remove(state) {
    const {id} = state
    const {idMap} = this
    // 
    if (idMap[id] === state) {
      delete idMap[id]
      this.version++
      this.countdownList.remove(state)
      state.emit('stateremove')
      state.parent = null
    }
  }

  /**
   * 
   * @param {string} id ID
   */
  delete(id) {
    // ID
    const state = this.idMap[id]
    if (state) this.remove(state)
  }

  /**  */
  saveData() {
    const states = Object.values(this.idMap)
    const length = states.length
    for (let i = 0; i &lt; length; i++) {
      states[i] = states[i].saveData()
    }
    return states
  }

  /**
   * 
   * @param {Object[]} states
   */
  loadData(states) {
    for (const savedData of states) {
      const id = savedData.id
      const data = Data.states[id]
      if (data) {
        // 
        const state = new State(data, savedData)
        this.countdownList.append(state)
        this.idMap[id] = state
        state.parent = this
      }
    }
  }
}

// ********************************  ********************************

class StateCountdownList extends Array {
  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {StateManager}
   */ manager

  /**
   * 
   * @param {StateManager} stateManager 
   */
  constructor(stateManager) {
    super()
    this.actor = stateManager.actor
    this.manager = stateManager
  }

  /**
   * 
   * @param {State} state 
   */
  append(state) {
    if (state.currentTime === 0) return
    // 
    if (this.length === 0) {
      Callback.push(() => {
        this.actor.updaters.add(this)
      })
    }
    super.append(state)
  }

  /**
   * 
   * @param {State} state 
   */
  remove(state) {
    // 
    const i = this.indexOf(state)
    if (i !== -1) {
      this.splice(i, 1)
      // 
      if (this.length === 0) {
        Callback.push(() => {
          this.actor.updaters.remove(this)
        })
      }
    }
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  update(deltaTime) {
    let i = this.length
    // 
    while (--i >= 0) {
      const state = this[i]
      state.autorun()
      state.updaters.update(deltaTime)
      // 
      if ((state.currentTime -= deltaTime) &lt;= 0) {
        state.currentTime = 0
        this.manager.remove(state)
      }
    }
  }
}

// ********************************  ********************************

class State {
  /** ID
   *  @type {string}
   */ id

  /** 
   *  @type {Object}
   */ data

  /** ID
   *  @type {string}
   */ icon

  /** 
   *  @type {Array&lt;number>}
   */ clip

  /** 
   *  @type {number}
   */ currentTime

  /** 
   *  @type {number}
   */ duration

  /** 
   *  @type {ModuleList}
   */ updaters

  /** 
   *  @type {Object}
   */ attributes

  /** 
   *  @type {Actor|null}
   */ caster

  /** 
   *  @type {Object}
   */ events

  /** 
   *  @type {Script}
   */ script

  /** 
   *  @type {StateManager|null}
   */ parent

  /** 
   *  @type {boolean}
   */ started

  /**
   * 
   * @param {StateFile} data 
   * @param {Object} [savedData] 
   */
  constructor(data, savedData) {
    this.id = data.id
    this.data = data
    this.icon = data.icon
    this.clip = data.clip
    this.currentTime = 0
    this.duration = 0
    this.updaters = new ModuleList()
    this.attributes = null
    this.caster = null
    this.events = data.events
    this.script = Script.create(this, data.scripts)
    this.parent = null
    this.started = false
    State.latest = this

    if (savedData) {
      // 
      this.currentTime = savedData.currentTime
      this.duration = savedData.duration
      this.attributes = savedData.attributes
      if (savedData.caster) {
        Callback.push(() => {
          this.caster = EntityManager.get(savedData.caster) ?? null
        })
      }
    } else {
      // 
      Attribute.loadEntries(
        this.attributes = {},
        data.attributes,
      )
    }
  }

  /**
   * 
   * @param {number} time ()
   */
  setTime(time) {
    if (time >= 0) {
      this.currentTime = time
      this.duration = time
    }
  }

  /**
   * 
   * @param {number} time ()
   */
  increaseTime(time) {
    if (time > 0) {
      this.currentTime += time
      this.duration = Math.max(this.currentTime, this.duration)
    }
  }

  /**
   * 
   * @param {number} time ()
   */
  decreaseTime(time) {
    if (time > 0) {
      this.currentTime = Math.max(this.currentTime - time, 0)
    }
  }

  /**
   * 
   * @param {string} type 
   * @returns {EventHandler|undefined}
   */
  callEvent(type) {
    const commands = this.events[type]
    const actor = this.parent?.actor
    if (commands) {
      const event = new EventHandler(commands)
      if (this.caster) {
        event.casterActor = this.caster
      }
      event.triggerActor = actor
      event.triggerState = this
      EventHandler.call(event, this.updaters)
      return event
    }
  }

  /**
   * 
   * @param {string} type 
   */
  emit(type) {
    this.callEvent(type)
    this.script.emit(type, this)
  }

  // 
  autorun() {
    if (this.started === false) {
      this.started = true
      this.emit('autorun')
    }
  }

  /**  */
  saveData() {
    return {
      id: this.id,
      caster: this.caster?.entityId ?? '',
      currentTime: this.currentTime,
      duration: this.duration,
      attributes: this.attributes,
    }
  }

  /** 
   *  @type {State|undefined}
   */ static latest
}

// ********************************  ********************************

class EquipmentManager {
  /** 
   *  @type {Actor}
   */ actor

  /** ->
   *  @type {Object}
   */ slotMap

  /** ()
   *  @type {number}
   */ version

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.actor = actor
    this.slotMap = {}
    this.version = 0
  }

  /**
   * 
   * @param {string} slot 
   * @returns {Equipment|undefined}
   */
  get(slot) {
    return this.slotMap[slot]
  }

  /**
   * 
   * @param {string} slot 
   * @param {Equipment} equipment 
   */
  set(slot, equipment) {
    if (this.actor.active &amp;&amp; slot &amp;&amp; equipment.parent !== this) {
      // 
      equipment.remove()
      // 
      const slotMap = this.slotMap
      const holder = slotMap[slot]
      if (holder) {
        this.remove(holder)
      }
      // 
      slotMap[slot] = equipment
      this.version++
      equipment.slot = slot
      equipment.parent = this
      equipment.emit('equipmentadd')
    }
  }

  /**
   * 
   * @param {Equipment} equipment 
   */
  remove(equipment) {
    if (this.actor.active &amp;&amp; equipment.parent === this) {
      // 
      delete this.slotMap[equipment.slot]
      this.version++
      equipment.slot = ''
      equipment.emit('equipmentremove')
      equipment.parent = null
      // 
      this.actor.inventory.insert(equipment)
    }
  }

  /**
   * 
   * @param {string} slot 
   */
  delete(slot) {
    // 
    const equipment = this.slotMap[slot]
    if (equipment) this.remove(equipment)
  }

  /**
   * ID
   * @param {string} equipmentId ID
   * @returns {Equipment|undefined} 
   */
  getById(equipmentId) {
    for (const equipment of Object.values(this.slotMap)) {
      if (equipment.id === equipmentId) return equipment
    }
    return undefined
  }

  /**  */
  saveData() {
    const data = Object.values(this.slotMap)
    const length = data.length
    for (let i = 0; i &lt; length; i++) {
      data[i] = data[i].saveData()
    }
    return data
  }

  /**
   * 
   * @param {Object[]} equipments
   */
  loadData(equipments) {
    for (const savedData of equipments) {
      const data = Data.equipments[savedData.id]
      if (data) {
        // 
        const equipment = new Equipment(data, savedData)
        equipment.parent = this
        this.slotMap[savedData.slot] = equipment
      }
    }
  }
}

// ********************************  ********************************

class Equipment {
  /** ID
   *  @type {string}
   */ id

  /** 
   *  @type {string}
   */ slot

  /** 
   *  -1
   *  @type {number}
   */ order

  /** 
   *  @type {Object}
   */ data

  /** ID
   *  @type {string}
   */ icon

  /** 
   *  @type {Array&lt;number>}
   */ clip

  /** 
   *  @type {Object}
   */ attributes

  /** 
   *  @type {Object}
   */ events
 
  /** 
   *  @type {Script}
   */ script
 
  /** 
   *  @type {Inventory|EquipmentManager|null}
   */ parent

  /**
   * 
   * @param {EquipmentFile} data 
   * @param {Object} [savedData] 
   */
  constructor(data, savedData) {
    this.id = data.id
    this.slot = ''
    this.order = -1
    this.data = data
    this.icon = data.icon
    this.clip = data.clip
    this.attributes = null
    this.events = data.events
    this.script = Script.create(this, data.scripts)
    this.parent = null
    Equipment.latest = this

    if (savedData) {
      // 
      this.slot = savedData.slot
      this.order = savedData.order
      this.attributes = savedData.attributes
    } else {
      // 
      Attribute.loadEntries(
        this.attributes = {},
        data.attributes,
      )
      this.emit('create')
    }
  }

  /**
   * ()
   * @param {string} slot 
   * @param {Actor} [actor] 
   */
  equip(slot, actor = this.parent?.actor) {
    if (this.parent instanceof Inventory) {
      actor?.equipmentManager.set(slot, this)
    }
  }

  /**  */
  remove() {
    this.parent?.remove(this)
  }

  /**
   * 
   * @param {string} type 
   * @param {Actor} [actor] 
   * @returns {EventHandler|undefined}
   */
  callEvent(type, actor = this.parent?.actor) {
    const commands = this.events[type]
    if (commands) {
      const event = new EventHandler(commands)
      event.triggerActor = actor
      event.triggerEquipment = this
      EventHandler.call(event, actor?.updaters)
      return event
    }
  }

  /**
   * 
   * @param {string} type 
   * @param {Actor} [actor] 
   */
  emit(type, actor) {
    this.callEvent(type, actor)
    this.script.emit(type, this)
  }

  /**  */
  saveData() {
    return {
      id: this.id,
      slot: this.slot,
      order: this.order,
      attributes: this.attributes,
    }
  }

  /** 
   *  @type {Equipment|undefined}
   */ static latest
}

// ********************************  ********************************

class Item {
  /** ID
   *  @type {string}
   */ id

  /** 
   *  -1
   *  @type {number}
   */ order

  /** 
   *  @type {Object}
   */ data

  /** ID
   *  @type {string}
   */ icon

  /** 
   *  @type {Array&lt;number>}
   */ clip
  
  /** 
   *  @type {number}
   */ quantity

  /** 
   *  @type {Object}
   */ attributes

  /** 
   *  @type {Object}
   */ events
 
  /** 
   *  @type {Script}
   */ script
 
  /** 
   *  @type {Inventory|null}
   */ parent

  /**
   * 
   * @param {ItemFile} data 
   * @param {Object} [savedData] 
   */
  constructor(data, savedData) {
    this.id = data.id
    this.order = -1
    this.data = data
    this.icon = data.icon
    this.clip = data.clip
    this.quantity = 0
    this.attributes = data.attributes
    this.events = data.events
    this.script = Script.create(this, data.scripts)
    this.parent = null
    Item.latest = this

    if (savedData) {
      // 
      this.order = savedData.order
      this.quantity = savedData.quantity
    }
  }

  /**
   * 
   * @param {Actor|undefined} actor 
   * @returns {EventHandler|undefined}
   */
  use(actor = this.parent?.actor) {
    // 0
    if (this.quantity > 0 &amp;&amp; actor?.isActive()) {
      return this.emit('itemuse', actor)
    }
  }

  /**
   * 
   * @param {number} quantity 
   */
  increase(quantity) {
    const {parent} = this
    if (parent &amp;&amp; quantity > 0) {
      this.quantity += quantity
      parent.version++
    }
  }

  /**
   * 
   * @param {number} quantity 
   */
  decrease(quantity) {
    const {parent} = this
    if (parent &amp;&amp; quantity > 0) {
      this.quantity -= quantity
      // 
      if (this.quantity &lt;= 0) {
        this.quantity = 0
        this.remove()
      }
      parent.version++
    }
  }

  /**  */
  remove() {
    this.parent?.remove(this)
  }

  /**
   * ()
   * @param {string} type 
   * @param {Actor} [actor] 
   * @returns {EventHandler|undefined}
   */
  callEvent(type, actor = this.parent?.actor) {
    const commands = this.events[type]
    if (commands) {
      const event = new EventHandler(commands)
      event.triggerActor = actor
      event.triggerItem = this
      EventHandler.call(event, actor?.updaters)
      return event
    }
  }

  /**
   * 
   * @param {string} type 
   * @param {Actor} [actor] 
   * @returns 
   */
  emit(type, actor) {
    const event = this.callEvent(type, actor)
    this.script.emit(type, this)
    return event
  }

  /**  */
  saveData() {
    return {
      id: this.id,
      order: this.order,
      quantity: this.quantity,
    }
  }

  //  - 
  static latest
}

// ********************************  ********************************

class Inventory {
  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {number}
   */ money

  /** 
   *  @type {number}
   */ pointer

  /** 
   *  @type {number}
   */ size

  /** 
   *  @type {Array&lt;Item|Equipment>}
   */ list

  /** ID->
   *  @type {Object}
   */ idMap

  /** ()
   *  @type {number}
   */ version

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.actor = actor
    this.money = 0
    this.pointer = 0
    this.size = 0
    this.list = []
    this.idMap = {}
    this.version = 0
  }

  /**
   * 
   * @param {string} id ID
   * @returns {Item|Equipment|undefined}
   */
  get(id) {
    return this.idMap[id]?.[0]
  }

  /**
   * 
   * @param {string} id ID
   * @returns {Array&lt;Item>|Array&lt;Equipment>|undefined}
   */
  getList(id) {
    return this.idMap[id]
  }

  /**  */
  reset() {
    // 
    for (const goods of this.list) {
      goods.parent = null
      goods.order = -1
    }
    // 
    this.money = 0
    this.pointer = 0
    this.size = 0
    this.list = []
    this.idMap = {}
    this.version++
  }

  /**
   * 
   * @param {Item|Equipment} goods 
   */
  insert(goods) {
    if (goods.parent === null) {
      // 
      let i = this.pointer
      const {list} = this
      while (list[i]?.order === i) {i++}
      list.splice(i, 0, goods)
      goods.order = i
      goods.parent = this
      // 
      this.addToMap(goods)
      // 
      this.pointer = i + 1
      this.size++
      this.version++
    }
  }

  /**
   * 
   * @param {Item|Equipment} goods 
   */
  remove(goods) {
    if (goods.parent === this) {
      const {list} = this
      const i = list.indexOf(goods)
      list.splice(i, 1)
      goods.order = -1
      goods.parent = null
      // 
      this.removeFromMap(goods)
      // 
      if (this.pointer > i) {
        this.pointer = i
      }
      this.size--
      this.version++
    }
  }

  /**
   * 
   * @param {Item|Equipment} goods 
   */
  addToMap(goods) {
    if (this.idMap[goods.id]) {
      this.idMap[goods.id].push(goods)
    } else {
      this.idMap[goods.id] = [goods]
    }
  }

  /**
   * 
   * @param {Item|Equipment} goods 
   */
  removeFromMap(goods) {
    this.idMap[goods.id].remove(goods)
    if (this.idMap[goods.id].length === 0) {
      delete this.idMap[goods.id]
    }
  }

  /**
   * ()
   * @param {number} order1 1
   * @param {number} order2 2
   */
  swap(order1, order2) {
    if (order1 >= 0 &amp;&amp; order2 >= 0 &amp;&amp; order1 !== order2) {
      // order1order2
      if (order1 > order2) {
        const temp = order1
        order1 = order2
        order2 = temp
      }
      const {list} = this
      const goods1 = list.find(a => a.order === order1)
      const goods2 = list.find(a => a.order === order2)
      if (goods1 &amp;&amp; goods2) {
        // 
        const pos1 = list.indexOf(goods1)
        const pos2 = list.indexOf(goods2)
        goods1.order = order2
        goods2.order = order1
        list[pos1] = goods2
        list[pos2] = goods1
        this.version++
      } else if (goods1) {
        // 
        const pos1 = list.indexOf(goods1)
        list.splice(pos1, 1)
        let pos2 = pos1
        const {length} = list
        while (pos2 &lt; length) {
          if (list[pos2].order > order2) {
            break
          }
          pos2++
        }
        goods1.order = order2
        list.splice(pos2, 0, goods1)
        this.version++
        // 
        if (this.pointer > pos1) {
          this.pointer = pos1
        }
      } else if (goods2) {
        // 
        const pos2 = list.indexOf(goods2)
        list.splice(pos2, 1)
        let pos1 = pos2
        while (--pos1 >= 0) {
          if (list[pos1].order &lt; order1) {
            pos1++
            break
          }
        }
        pos1 = Math.max(pos1, 0)
        goods2.order = order1
        list.splice(pos1, 0, goods2)
        this.version++
      }
    }
  }

  /**
   * 
   * @param {boolean} [byOrder = false] true
   */
  sort(byOrder = false) {
    const {list} = this
    const {length} = list
    // 
    if (byOrder) list.sort((a, b) => {
      const typeA = typeof a.quantity
      const typeB = typeof b.quantity
      // 
      if (typeA !== typeB) {
        return typeA === 'number' ? -1 : 1
      }
      return a.data.filename.localeCompare(b.data.filename)
    })
    // 
    for (let i = 0; i &lt; length; i++) {
      list[i].order = i
    }
    this.pointer = length
    this.version++
  }

  /**
   * 
   * @param {string} id ID
   * @returns {number}
   */
  count(id) {
    const list = this.getList(id)
    if (!list) return 0
    let count = 0
    for (const goods of list) {
      count += goods.quantity ?? 1
    }
    return count
  }

  // 
  /**
   * 
   * @param {number} money 
   */
  increaseMoney(money) {
    this.money += Math.max(money, 0)
  }

  /**
   * 
   * @param {number} money 
   */
  decreaseMoney(money) {
    this.money -= Math.max(money, 0)
  }

  /**
   * 
   * @param {string} id ID
   * @param {number} quantity 
   */
  createItems(id, quantity) {
    const data = Data.items[id]
    if (data &amp;&amp; quantity > 0) {
      const item = new Item(data)
      // 
      this.insert(item)
      item.increase(quantity)
    }
  }

  /**
   * ()
   * @param {string} id ID
   * @param {number} quantity 
   */
  increaseItems(id, quantity) {
    const item = this.get(id)
    // 
    if (item) {
      item.increase(quantity)
      Item.latest = item
    }
    else {
      this.createItems(id, quantity)
    }
  }

  /**
   * ()
   * @param {string} id ID
   * @param {number} quantity 
   */
  decreaseItems(id, quantity) {
    const {list} = this
    let i = list.length
    while (--i >= 0) {
      const item = list[i]
      if (item.id === id) {
        // 
        if (item.quantity >= quantity) {
          item.decrease(quantity)
          return
        }
        // 
        quantity -= item.quantity
        item.decrease(item.quantity)
      }
    }
  }

  /**
   * (ID)
   * @param {string} id ID
   */
  createEquipment(id) {
    const data = Data.equipments[id]
    if (data) {
      this.gainEquipment(new Equipment(data))
    }
  }

  /**
   * (ID)
   * @param {string} id ID
   */
  deleteEquipment(id) {
    const equipment = this.get(id)
    if (equipment instanceof Equipment) {
      this.loseEquipment(equipment)
    }
  }

  /**
   * 
   * @param {Equipment} equipment 
   */
  gainEquipment(equipment) {
    if (equipment.parent !== this) {
      equipment.remove()
      this.insert(equipment)
    }
  }

  /**
   * 
   * @param {Equipment} equipment 
   */
  loseEquipment(equipment) {
    if (equipment.parent === this) {
      this.remove(equipment)
    }
  }

  /**  */
  saveData(actor) {
    if (this.actor !== actor) {
      return {
        ref: this.actor.data.id,
        ...actor.savedInventory.saveData(actor),
      }
    }
    const {list} = this
    const {length} = list
    const data = new Array(length)
    for (let i = 0; i &lt; length; i++) {
      data[i] = list[i].saveData()
    }
    return {
      list: data,
      money: this.money,
    }
  }

  /**
   * 
   * @param {Object} inventory
   */
  loadData(inventory) {
    if ('ref' in inventory) {
      Inventory.references.push({
        actor: this.actor,
        ref: inventory.ref,
      })
    }
    const {list} = this
    for (const savedData of inventory.list) {
      const {id} = savedData
      if ('quantity' in savedData) {
        // 
        const data = Data.items[id]
        if (data) {
          // 
          const item = new Item(data, savedData)
          item.parent = this
          list.push(item)
          this.addToMap(item)
          this.size++
        }
      } else {
        // 
        const data = Data.equipments[id]
        if (data) {
          // 
          const equipment = new Equipment(data, savedData)
          equipment.parent = this
          list.push(equipment)
          this.addToMap(equipment)
          this.size++
        }
      }
    }
    this.money = inventory.money
    // 
    let i = 0
    while (list[i]?.order === i) {i++}
    this.pointer = i
  }

  // 
  static references = []

  // 
  static reference() {
    for (const {actor, ref} of this.references) {
      const target = ActorManager.get(ref)
      if (target instanceof GlobalActor) {
        actor.useInventory(target.inventory)
      }
    }
  }
}

// ********************************  ********************************

class ShortcutManager {
  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {Object}
   */ keyMap

  /** ()
   *  @type {number}
   */ version

  constructor(actor) {
    this.actor = actor
    this.keyMap = {}
    this.version = 0
  }

  /**
   * 
   * @param {string} key 
   * @returns {Object|undefined}
   */
  get(key) {
    return this.keyMap[key]
  }

  /**
   * 
   * @param {string} key 
   * @returns {Item|undefined}
   */
  getItem(key) {
    const shortcut = this.keyMap[key]
    if (shortcut?.type === 'item') {
      return this.actor.inventory.get(shortcut.id)
    }
    return undefined
  }

  /**
   * 
   * @param {string} key 
   * @returns {Skill|undefined}
   */
  getSkill(key) {
    const shortcut = this.keyMap[key]
    if (shortcut?.type === 'skill') {
      return this.actor.skillManager.get(shortcut.id)
    }
    return undefined
  }

  /**
   * 
   * @param {string} key 
   * @returns {Skill|Item|undefined}
   */
  getTarget(key) {
    const shortcut = this.keyMap[key]
    switch (shortcut?.type) {
      case 'skill':
        return this.actor.skillManager.get(shortcut.id)
      case 'item':
        return this.actor.inventory.get(shortcut.id)
      default:
        return undefined
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {Item|Skill} 
   */
  set(key, target) {
    if (!key) return
    if (target instanceof Skill) {
      this.keyMap[key] = new Shortcut('skill', key, target.id, target.data)
      this.version++
      return
    }
    if (target instanceof Item) {
      this.keyMap[key] = new Shortcut('item', key, target.id, target.data)
      this.version++
      return
    }
  }

  /**
   * (ID)
   * @param {string} key 
   * @param {string} ID
   */
  setId(key, id) {
    if (id in Data.skills) {
      this.keyMap[key] = new Shortcut('skill', key, id, Data.skills[id])
      this.version++
      return
    }
    if (id in Data.items) {
      this.keyMap[key] = new Shortcut('item', key, id, Data.items[id])
      this.version++
      return
    }
  }

  /**
   * 
   * @param {string} key 
   */
  delete(key) {
    if (key in this.keyMap) {
      delete this.keyMap[key]
      this.version++
    }
  }

  /**
   * 
   * @param {string} sKey 
   * @param {string} dKey 
   */
  swap(sKey, dKey) {
    if (sKey !== dKey &amp;&amp; sKey &amp;&amp; dKey) {
      const map = this.keyMap
      const sItem = map[sKey]
      const dItem = map[dKey]
      if (sItem) {
        sItem.key = dKey
        map[dKey] = sItem
      } else {
        delete map[dKey]
      }
      if (dItem) {
        dItem.key = sKey
        map[sKey] = dItem
      } else {
        delete map[sKey]
      }
      this.version++
    }
  }

  /**  */
  saveData() {
    const list = Object.values(this.keyMap)
    const length = list.length
    const data = new Array(length)
    for (let i = 0; i &lt; length; i++) {
      const shortcut = list[i]
      data[i] = {
        key: shortcut.key,
        id: shortcut.id,
      }
    }
    return data
  }

  /**
   * 
   * @param {Array} shortcuts
   */
  loadData(shortcuts) {
    for (const shortcut of shortcuts) {
      this.setId(shortcut.key, shortcut.id)
    }
  }
}

// ********************************  ********************************

class Shortcut {
  /** 
   *  @type {string}
   */ type

  /** 
   *  @type {string}
   */ key

  /** ID
   *  @type {string}
   */ id

  /** 
   *  @type {Object}
   */ data

  /** ID
   *  @type {string}
   */ icon

  /** 
   *  @type {Array&lt;number>}
   */ clip

  /**
   * 
   * @param {string} type 
   * @param {string} key 
   * @param {string} id ID
   * @param {Object} data 
   */
  constructor(type, key, id, data) {
    this.type = type
    this.key = key
    this.id = id
    this.data = data
    this.icon = data.icon
    this.clip = data.clip
  }
}

// ******************************** (GCD) ********************************

class CooldownManager {
  /** 
   *  @type {Actor}
   */ actor

  /** ->
   *  @type {Object}
   */ keyMap

  /** 
   *  @type {Array&lt;CooldownItem>}
   */ cooldownList

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.actor = actor
    this.keyMap = {}
    this.cooldownList = []
  }

  /**
   * 
   * @param {string} key 
   * @returns {CooldownItem|undefined}
   */
  get(key) {
    return this.keyMap[key]
  }

  /**
   * 
   * @param {string} key 
   * @returns {CooldownItem}
   */
  create(key) {
    let item = this.keyMap[key]
    // 
    if (item === undefined) {
      // 
      if (this.cooldownList.length === 0) {
        Callback.push(() => {
          this.actor.updaters.add(this)
        })
      }
      // 
      item = new CooldownItem(key)
      this.keyMap[key] = item
      this.cooldownList.append(item)
    }
    return item
  }

  /**
   * 
   * @param {string} key 
   */
  delete(key) {
    const item = this.keyMap[key]
    if (item) {
      delete this.keyMap[key]
      this.cooldownList.remove(item)
      // 
      if (this.cooldownList.length === 0) {
        Callback.push(() => {
          this.actor.updaters.remove(this)
        })
      }
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {number} cooldown 
   */
  setCooldown(key, cooldown) {
    if (key &amp;&amp; cooldown > 0) {
      const item = this.create(key)
      item.cooldown = cooldown
      item.duration = cooldown
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {number} cooldown 
   */
  increaseCooldown(key, cooldown) {
    if (key &amp;&amp; cooldown > 0) {
      const item = this.create(key)
      item.cooldown += cooldown
      item.duration = Math.max(item.cooldown, item.duration)
    }
  }

  /**
   * 
   * @param {string} key 
   * @param {number} cooldown 
   */
  decreaseCooldown(key, cooldown) {
    const item = this.keyMap[key]
    if (item &amp;&amp; cooldown > 0) {
      item.cooldown -= cooldown
      // 
      if (item.cooldown &lt;= 0) {
        this.delete(key)
      }
    }
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  update(deltaTime) {
    const {cooldownList} = this
    let i = cooldownList.length
    // 
    while (--i >= 0) {
      // 
      if ((cooldownList[i].cooldown -= deltaTime) &lt;= 0) {
        this.delete(cooldownList[i].key)
      }
    }
  }

  /**  */
  saveData() {
    return this.cooldownList
  }

  /**
   * 
   * @param {Array} cooldowns
   */
  loadData(cooldowns) {
    if (cooldowns.length !== 0) {
      // 
      for (const cooldown of cooldowns) {
        const instance = new CooldownItem(cooldown.key)
        instance.cooldown = cooldown.cooldown
        instance.duration = cooldown.duration
        this.keyMap[cooldown.key] = instance
        this.cooldownList.push(instance)
      }
      this.actor.updaters.add(this)
    }
  }
}

// ********************************  ********************************

class CooldownItem {
  /** 
   *  @type {string}
   */ key

  /** 
   *  @type {number}
   */ cooldown

  /** 
   *  @type {number}
   */ duration

  /**
   * 
   * @param {string} key 
   */
  constructor(key) {
    this.key = key
    this.cooldown = 0
    this.duration = 0
  }

  /**  */
  get progress() {
    return this.cooldown / this.duration
  }
}

// ********************************  ********************************

class TargetManager {
  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {Array&lt;Actor>}
   */ targets

  /** 
   *  @type {Array&lt;number>}
   */ threats

  /** 
   *  @type {Array&lt;Actor>}
   */ relatedTargets

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.actor = actor
    this.targets = []
    this.threats = []
    this.relatedTargets = []
  }

  /**
   * 
   * @param {Actor} actor 
   * @param {number} threat 
   */
  increaseThreat(actor, threat) {
    const index = this.targets.indexOf(actor)
    if (index !== -1) {
      // 
      this.threats[index] += threat
    } else if (actor.active) {
      // 
      // 
      this.targets.push(actor)
      this.threats.push(threat)
      actor.targetManager.relatedTargets.push(this.actor)
    }
  }

  /**
   * 
   * @param {Actor} actor 
   * @param {number} threat 
   */
  decreaseThreat(actor, threat) {
    const index = this.targets.indexOf(actor)
    if (index !== -1) {
      // 
      this.threats[index] = Math.max(this.threats[index] - threat, 0)
    }
  }

  /**
   * 
   * @param {number} distance (:)
   * @param {function} inspector 
   * @param {boolean} [inSight = false] 
   */
  detect(distance, inspector, inSight = false) {
    const owner = this.actor
    const ox = owner.x
    const oy = owner.y
    // 
    const cells = Scene.actors.cells.get(
      ox - distance,
      oy - distance,
      ox + distance,
      oy + distance,
    )
    const square = distance ** 2
    const count = cells.count
    // 
    for (let i = 0; i &lt; count; i++) {
      const actors = cells[i]
      const length = actors.length
      // 
      for (let i = 0; i &lt; length; i++) {
        const actor = actors[i]
        // 
        if (actor.active &amp;&amp; (ox - actor.x) ** 2 + (oy - actor.y) ** 2 &lt;= square &amp;&amp;
          inspector(owner, actor) &amp;&amp; (inSight === false ||
          actor.parent.scene.isInLineOfSight(ox, oy, actor.x, actor.y))) {
          this.append(actor)
        }
      }
    }
  }

  /**
   * 
   * @param {function} inspector 
   * @param {number} distance 
   */
  discard(inspector, distance = 0) {
    const owner = this.actor
    const ox = owner.x
    const oy = owner.y
    const square = distance ** 2
    const targets = this.targets
    let i = targets.length
    // 
    while (--i >= 0) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor) &amp;&amp; (ox - actor.x) ** 2 + (oy - actor.y) ** 2 >= square) {
        this.remove(actor)
      }
    }
  }

  /**  */
  reset() {
    this.resetTargets()
    this.resetRelatedTargets()
  }

  /**  */
  resetTargets() {
    const targets = this.targets
    const length = targets.length
    if (length !== 0) {
      const owner = this.actor
      // 
      for (let i = 0; i &lt; length; i++) {
        targets[i].targetManager.relatedTargets.remove(owner)
      }
      // 
      this.targets = []
      this.threats = []
    }
  }

  /**  */
  resetRelatedTargets() {
    const relatedTargets = this.relatedTargets
    const length = relatedTargets.length
    if (length !== 0) {
      const owner = this.actor
      // 
      for (let i = 0; i &lt; length; i++) {
        const actor = relatedTargets[i]
        const manager = actor.targetManager
        const targets = manager.targets
        const threats = manager.threats
        const index = targets.indexOf(owner)
        if (index !== -1) {
          targets.splice(index, 1)
          threats.splice(index, 1)
        }
      }
      // 
      this.relatedTargets = []
    }
  }

  /**
   * 
   * @param {Actor} actor 
   */
  append(actor) {
    const index = this.targets.indexOf(actor)
    if (index === -1) {
      // 
      // 
      this.targets.push(actor)
      this.threats.push(0)
      actor.targetManager.relatedTargets.push(this.actor)
    }
  }

  /**
   * 
   * @param {Actor} actor 
   */
  remove(actor) {
    const index = this.targets.indexOf(actor)
    if (index !== -1) {
      // 
      // 
      this.targets.splice(index, 1)
      this.threats.splice(index, 1)
      actor.targetManager.relatedTargets.remove(this.actor)
    }
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetMaxThreat(inspector) {
    let target
    let weight = -1
    const owner = this.actor
    const targets = this.targets
    const threats = this.threats
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const threat = threats[i]
        if (threat > weight) {
          target = actor
          weight = threat
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetNearest(inspector) {
    let target
    let weight = Infinity
    const owner = this.actor
    const targets = this.targets
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const distance = Math.dist(owner.x, owner.y, actor.x, actor.y)
        if (distance &lt; weight) {
          target = actor
          weight = distance
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetFarthest(inspector) {
    let target
    let weight = -Infinity
    const owner = this.actor
    const targets = this.targets
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const distance = Math.dist(owner.x, owner.y, actor.x, actor.y)
        if (distance > weight) {
          target = actor
          weight = distance
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetMinAttributeValue(inspector, key) {
    let target
    let weight = Infinity
    const owner = this.actor
    const targets = this.targets
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const value = actor.attributes[key]
        if (value &lt; weight) {
          target = actor
          weight = value
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetMaxAttributeValue(inspector, key) {
    let target
    let weight = -Infinity
    const owner = this.actor
    const targets = this.targets
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const value = actor.attributes[key]
        if (value > weight) {
          target = actor
          weight = value
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetMinAttributeRatio(inspector, key, divisor) {
    let target
    let weight = Infinity
    const owner = this.actor
    const targets = this.targets
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const attributes = actor.attributes
        const ratio = attributes[key] / attributes[divisor]
        if (ratio &lt; weight) {
          target = actor
          weight = ratio
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetMaxAttributeRatio(inspector, key, divisor) {
    let target
    let weight = -Infinity
    const owner = this.actor
    const targets = this.targets
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      const actor = targets[i]
      // 
      if (inspector(owner, actor)) {
        const attributes = actor.attributes
        const ratio = attributes[key] / attributes[divisor]
        if (ratio > weight) {
          target = actor
          weight = ratio
        }
      }
    }
    return target
  }

  /**
   *  - 
   * @param {function} inspector 
   * @returns {Actor|undefined}
   */
  getTargetRandom(inspector) {
    let target
    let count = 0
    const owner = this.actor
    const targets = this.targets
    const indices = GL.arrays[0].uint32
    const length = targets.length
    for (let i = 0; i &lt; length; i++) {
      // indices
      if (inspector(owner, targets[i])) {
        indices[count++] = i
      }
    }
    if (count !== 0) {
      // 
      target = targets[indices[Math.floor(Math.random() * count)]]
    }
    return target
  }
}

// ********************************  ********************************

class AnimationController {
  /** 
   *  @type {string}
   */ state

  /** 
   *  @type {boolean}
   */ active

  /** 
   *  @type {boolean}
   */ playing

  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {Animation|null}
   */ animation

  /** 
   *  @type {string}
   */ idleMotion

  /** 
   *  @type {string}
   */ moveMotion

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    const {data} = actor
    this.state = 'idle'
    this.active = true
    this.playing = false
    this.actor = actor
    this.animation = null
    this.idleMotion = data.idleMotion
    this.moveMotion = data.moveMotion
  }

  /**
   * 
   * @param {Animation} [animation] 
   */
  bindAnimation(animation) {
    this.animation = animation
    const active = !!animation
    // 
    if (this.active !== active) {
      this.active = active
      if (active) {
        // 
        delete this.update
        delete this.startIdle
        delete this.startMoving
        delete this.playMotion
      } else {
        // 
        this.update = Function.empty
        this.startIdle = Function.empty
        this.startMoving = Function.empty
        this.playMotion = Function.empty
      }
    }
    if (active) {
      // 
      animation.setMotion(this.getCurrentMotionName())
      animation.setAngle(this.actor.angle)
    }
  }

  /**  */
  changeMotion(type, motionName) {
    switch (type) {
      case 'idle':
        this.idleMotion = motionName
        if (this.state === 'idle') {
          this.startIdle()
        }
        break
      case 'move':
        this.moveMotion = motionName
        if (this.state === 'move') {
          this.startMoving()
        }
        break
    }
  }

  /**  */
  startIdle() {
    this.state = 'idle'
    if (this.playing === false) {
      const {animation} = this
      if (animation.motionName === this.idleMotion) return
      if (animation.setMotion(this.idleMotion)) {
        animation.restart()
      }
    }
  }

  /**  */
  startMoving() {
    this.state = 'move'
    if (this.playing === false) {
      const {animation} = this
      if (animation.motionName === this.moveMotion) return
      if (animation.setMotion(this.moveMotion)) {
        animation.restart()
      }
    }
  }

  /**  */
  restart() {
    this.playing = false
    this.animation.speed = 1
    if (this.animation.setMotion(this.getCurrentMotionName())) {
      this.animation.restart()
    }
  }

  /**  */
  getCurrentMotionName() {
    switch (this.state) {
      case 'idle': return this.idleMotion
      case 'move': return this.moveMotion
    }
  }

  /**
   * ()
   * @param {string} motionName 
   * @param {number} speed 
   * @returns {Animation|undefined}
   */
  playMotion(motionName, speed = 1) {
    const {animation} = this
    // 
    if (animation.setMotion(motionName)) {
      this.playing = true
      animation.speed = speed
      // 
      animation.restart()
      animation.onFinish(() => {
        // 
        this.restart()
      })
      // 
      return animation
    }
    return undefined
  }

  /**  */
  stopMotion() {
    this.animation.finish()
  }

  /**  */
  saveData() {
    return {
      idle: this.idleMotion,
      move: this.moveMotion,
    }
  }

  /**
   * 
   * @param {Object} motions 
   */
  loadData(motions) {
    this.idleMotion = motions.idle
    this.moveMotion = motions.move
  }
}

// ********************************  ********************************

class ActorCollider {
  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {string}
   */ shape

  /** 
   *  @type {number}
   */ size

  /** 
   *  @type {number}
   */ half

  /** 
   *  @type {number}
   */ weight

  /** 
   *  @type {boolean}
   */ moved

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    const {data} = actor
    this.actor = actor
    this.shape = data.shape
    this.size = data.size
    this.half = data.size / 2
    this.weight = data.weight
    this.moved = false
  }

  // 
  setWeight(weight) {
    this.weight = weight
    // 
    this.actor.parent?.scene.obstacles.update(this.actor)
  }

  // 
  updateLastPosition() {
    this.lastX = this.actor.x
    this.lastY = this.actor.y
  }

  // 
  static actorCollisionEnabled = true

  // 
  static sceneCollisionEnabled = true

  // 
  static sceneCollisionRadius = 0

  // 
  static actorCollisionDist = 0

  /**  */
  static initialize() {
    const {collision} = Data.config
    // 
    this.actorCollisionEnabled = collision.actor.enabled
    // 
    this.sceneCollisionEnabled = collision.scene.enabled
    // 
    this.sceneCollisionRadius = collision.scene.actorSize / 2
    // 
    this.actorCollisionDist = collision.scene.actorSize
  }

  /**  */
  static handleSceneCollisions() {
    if (ActorCollider.sceneCollisionEnabled === false) return
    const scene = Scene.binding
    const radius = ActorCollider.sceneCollisionRadius
    const radiusSquared = radius ** 2
    const terrains = scene.terrainObstacles
    const width = scene.width
    const height = scene.height
    if (width * height === 0) return
    const right = width - 1
    const bottom = height - 1
    const actors = scene.actors
    const length = actors.length
    // 
    for (let i = 0; i &lt; length; i++) {
      const actor = actors[i]
      const collider = actor.collider
      // 
      if (collider.moved === false) {
        continue
      }
      // 
      if (actor.x &lt; radius) actor.x = radius
      if (actor.y &lt; radius) actor.y = radius
      if (actor.x > width - radius) actor.x = width - radius
      if (actor.y > height - radius) actor.y = height - radius
      const passage = actor.passage
      if (passage === -1) continue
      const sx = Math.clamp(actor.intX, 0, right)
      const sy = Math.clamp(actor.intY, 0, bottom)
      let dx = Math.floor(actor.x)
      let dy = Math.floor(actor.y)
      // 
      if (sx !== dx) {
        const unitY = (dy - sy) / (dx - sx)
        const step = sx &lt; dx ? 1 : -1
        let x = sx
        do {
          x += step
          const y = Math.floor(sy + (x - sx) * unitY)
          if (terrains[x + y * width] !== passage) {
            actor.x = sx &lt; dx ? x - radius : x + 1 + radius
            dx = Math.floor(actor.x)
            break
          }
        }
        while (x !== dx)
      }
      // 
      if (sy !== dy) {
        const unitX = (dx - sx) / (dy - sy)
        const step = sy &lt; dy ? 1 : -1
        let y = sy
        do {
          y += step
          const x = Math.floor(sx + (y - sy) * unitX)
          if (terrains[x + y * width] !== passage) {
            actor.y = sy &lt; dy ? y - radius : y + 1 + radius
            dy = Math.floor(actor.y)
            break
          }
        }
        while (y !== dy)
      }
      const ax = actor.x
      const ay = actor.y
      const al = Math.floor(ax - radius)
      const at = Math.floor(ay - radius)
      const ar = Math.ceil(ax + radius)
      const ab = Math.ceil(ay + radius)
      const x = Math.round(ax)
      const y = Math.round(ay)
      let ox = 0
      let oy = 0
      // 
      if (al + 1 !== ar) {
        if (x === dx) {
          // 
          if (terrains[al + dy * width] !== passage) {
            // 
            actor.x = x + radius
          } else {
            ox = -1
          }
        } else {
          // 
          if (terrains[x + dy * width] !== passage) {
            // 
            actor.x = x - radius
          } else {
            ox = 1
          }
        }
      }
      // 
      if (at + 1 !== ab) {
        if (y === dy) {
          // 
          if (terrains[dx + at * width] !== passage) {
            // 
            actor.y = y + radius
          } else {
            oy = -1
          }
        } else {
          // 
          if (terrains[dx + y * width] !== passage) {
            // 
            actor.y = y - radius
          } else {
            oy = 1
          }
        }
      }
      // 
      // 
      if (ox !== 0 &amp;&amp; oy !== 0 &amp;&amp;
        terrains[dx + ox + (dy + oy) * width] !== passage) {
        // 
        const distSquared = (x - ax) ** 2 + (y - ay) ** 2
        if (distSquared >= radiusSquared) continue
        // 
        const hypot = radius - Math.sqrt(distSquared)
        const angle = Math.atan2(ay - y, ax - x)
        actor.x += hypot * Math.cos(angle)
        actor.y += hypot * Math.sin(angle)
      }
    }
  }

  /**  */
  static handleActorCollisions() {
    if (ActorCollider.actorCollisionEnabled === false) return
    const {cells} = Scene.actors
    const {width, height, length} = cells

    // 
    for (let i = 0; i &lt; length; i++) {
      const cell = cells[i]
      const length = cell.length
      for (let si = 0; si &lt; length; si++) {
        const sActor = cell[si]
        if (sActor.collider.weight === 0) continue
        for (let di = si + 1; di &lt; length; di++) {
          ActorCollider.handleCollisionBetweenTwoActors(sActor, cell[di])
        }
      }
    }

    // 
    const ex = width - 1
    for (let y = 0; y &lt; height; y++) {
      for (let x = 0; x &lt; ex; x++) {
        const i = x + y * width
        ActorCollider.handleCollisionsBetweenTwoCells(cells[i], cells[i + 1])
      }
    }

    // 
    const ey = height - 1
    for (let x = 0; x &lt; width; x++) {
      for (let y = 0; y &lt; ey; y++) {
        const i = x + y * width
        ActorCollider.handleCollisionsBetweenTwoCells(cells[i], cells[i + width])
      }
    }

    // 
    const lowerRight = width + 1
    for (let i = 0; i &lt; ex; i++) {
      const end = Math.min(ex - i, ey)
      for (let x = i, y = 0; y &lt; end; x++, y++) {
        const i = x + y * width
        ActorCollider.handleCollisionsBetweenTwoCells(cells[i], cells[i + lowerRight])
      }
    }
    for (let i = 1; i &lt; ey; i++) {
      const end = Math.min(ex, ey - i)
      for (let x = 0, y = i; x &lt; end; x++, y++) {
        const i = x + y * width
        ActorCollider.handleCollisionsBetweenTwoCells(cells[i], cells[i + lowerRight])
      }
    }

    // 
    const lowerLeft = width - 1
    for (let i = ex; i > 0; i--) {
      const end = Math.min(i, ey)
      for (let x = i, y = 0; y &lt; end; x--, y++) {
        const i = x + y * width
        ActorCollider.handleCollisionsBetweenTwoCells(cells[i], cells[i + lowerLeft])
      }
    }
    for (let i = 1; i &lt; ey; i++) {
      const end = Math.min(ex + i, ey)
      for (let x = ex, y = i; y &lt; end; x--, y++) {
        const i = x + y * width
        ActorCollider.handleCollisionsBetweenTwoCells(cells[i], cells[i + lowerLeft])
      }
    }
  }

  /**  */
  static handleCollisionBetweenTwoActors = (IIFE => {
    // 
    const TOLERANCE = 0.01

    // 
    const collide = (sActor, dActor) => {
      const commands = sActor.events.collision
      if (commands) {
        const event = new EventHandler(commands)
        event.triggerActor = sActor
        event.targetActor = dActor
        EventHandler.call(event, sActor.updaters)
      }
      sActor.script.emit('collision', dActor)
    }

    //  - 
    const collideSquareAndSquare = (sCollider, dCollider) => {
      const sActor = sCollider.actor
      const dActor = dCollider.actor
      const distMin = sCollider.half + dCollider.half
      const distX = Math.abs(sActor.x - dActor.x)
      const distY = Math.abs(sActor.y - dActor.y)
      // 
      if (distX &lt; distMin &amp;&amp; distY &lt; distMin) {
        const sWeight = sCollider.weight
        const dWeight = dCollider.weight
        // 0.5~20~1
        const ratio = Math.clamp(dWeight * 3 / (sWeight + dWeight) - 1, 0, 1)
        if (distX > distY) {
          // 
          const offset = distMin - distX + TOLERANCE
          const sOffset = offset * ratio
          const dOffset = offset - sOffset
          // 
          if (sActor.x &lt; dActor.x) {
            sActor.x -= sOffset
            dActor.x += dOffset
          } else {
            sActor.x += sOffset
            dActor.x -= dOffset
          }
        } else {
          // 
          const offset = distMin - distY + TOLERANCE
          const sOffset = offset * ratio
          const dOffset = offset - sOffset
          // 
          if (sActor.y &lt; dActor.y) {
            sActor.y -= sOffset
            dActor.y += dOffset
          } else {
            sActor.y += sOffset
            dActor.y -= dOffset
          }
        }
        // 
        sCollider.moved = true
        dCollider.moved = true
        // 
        collide(sActor, dActor)
        collide(dActor, sActor)
      }
    }

    //  - 
    const collideCircleAndCircle = (sCollider, dCollider) => {
      const sActor = sCollider.actor
      const dActor = dCollider.actor
      const distMin = sCollider.half + dCollider.half
      const distX = dActor.x - sActor.x
      const distY = dActor.y - sActor.y
      const distSquared = distX ** 2 + distY ** 2
      // 
      if (distSquared &lt; distMin ** 2) {
        const dist = Math.sqrt(distSquared)
        const offset = distMin - dist
        const offsetX = offset / distMin * distX
        const offsetY = offset / distMin * distY
        const sWeight = sCollider.weight
        const dWeight = dCollider.weight
        // 0.5~20~1
        const ratio = Math.clamp(dWeight * 3 / (sWeight + dWeight) - 1, 0, 1)
        if (offsetX !== 0) {
          // 
          const tOffsetX = offsetX + (offsetX > 0 ? TOLERANCE : -TOLERANCE)
          const sOffset = tOffsetX * ratio
          const dOffset = tOffsetX - sOffset
          // 
          sActor.x -= sOffset
          dActor.x += dOffset
        }
        if (offsetY !== 0) {
          // 
          const tOffsetY = offsetY + (offsetY > 0 ? TOLERANCE : -TOLERANCE)
          const sOffset = tOffsetY * ratio
          const dOffset = tOffsetY - sOffset
          // 
          sActor.y -= sOffset
          dActor.y += dOffset
        }
        // 
        sCollider.moved = true
        dCollider.moved = true
        // 
        collide(sActor, dActor)
        collide(dActor, sActor)
      }
    }

    //  - 
    const collideSquareAndCircle = (sCollider, dCollider) => {
      const sActor = sCollider.actor
      const dActor = dCollider.actor
      const distMin = dCollider.half
      const sx = sActor.x
      const sy = sActor.y
      const dx = dActor.x
      const dy = dActor.y
      const sl = sx - sCollider.half
      const sr = sx + sCollider.half
      const st = sy - sCollider.half
      const sb = sy + sCollider.half
      const distX = dx - (dx &lt; sl ? sl : dx > sr ? sr : dx)
      const distY = dy - (dy &lt; st ? st : dy > sb ? sb : dy)
      const distSquared = distX ** 2 + distY ** 2
      // 
      if (distSquared &lt; distMin ** 2) {
        const dist = Math.sqrt(distSquared)
        const offset = distMin - dist
        let offsetX
        let offsetY
        if (distX !== 0 &amp;&amp; distY !== 0) {
          offsetX = offset / distMin * distX
          offsetY = offset / distMin * distY
        } else {
          const rx = dx - sx
          const ry = dy - sy
          if (Math.abs(rx) > Math.abs(ry)) {
            offsetX = offset * Math.sign(rx)
            offsetY = 0
          } else {
            offsetX = 0
            offsetY = offset * Math.sign(ry)
          }
        }
        const sWeight = sCollider.weight
        const dWeight = dCollider.weight
        // 0.5~20~1
        const ratio = Math.clamp(dWeight * 3 / (sWeight + dWeight) - 1, 0, 1)
        if (offsetX !== 0) {
          // 
          const tOffsetX = offsetX + (offsetX > 0 ? TOLERANCE : -TOLERANCE)
          const sOffset = tOffsetX * ratio
          const dOffset = tOffsetX - sOffset
          // 
          sActor.x -= sOffset
          dActor.x += dOffset
        }
        if (offsetY !== 0) {
          // 
          const tOffsetY = offsetY + (offsetY > 0 ? TOLERANCE : -TOLERANCE)
          const sOffset = tOffsetY * ratio
          const dOffset = tOffsetY - sOffset
          // 
          sActor.y -= sOffset
          dActor.y += dOffset
        }
        // 
        sCollider.moved = true
        dCollider.moved = true
        // 
        collide(sActor, dActor)
        collide(dActor, sActor)
      }
    }

    return (sActor, dActor) => {
      const dCollider = dActor.collider
      // 0
      if (dCollider.weight === 0) return
      // 
      const code = sActor.teamIndex | dActor.teamIndex &lt;&lt; 8
      if (Team.collisionMap[code] === 0) return
      const sCollider = sActor.collider
      switch (sCollider.shape) {
        case 'circle':
          switch (dCollider.shape) {
            case 'circle':
              return collideCircleAndCircle(sCollider, dCollider)
            case 'square':
              return collideSquareAndCircle(dCollider, sCollider)
          }
        case 'square':
          switch (dCollider.shape) {
            case 'circle':
              return collideSquareAndCircle(sCollider, dCollider)
            case 'square':
              return collideSquareAndSquare(sCollider, dCollider)
          }
      }
    }
  })()

  /**
   * 
   * @param {Actor[]} sCell 1
   * @param {Actor[]} dCell 2
   */
  static handleCollisionsBetweenTwoCells = (sCell, dCell) => {
    const sLength = sCell.length
    const dLength = dCell.length
    for (let si = 0; si &lt; sLength; si++) {
      const sActor = sCell[si]
      // 0
      if (sActor.collider.weight === 0) continue
      for (let di = 0; di &lt; dLength; di++) {
        ActorCollider.handleCollisionBetweenTwoActors(sActor, dCell[di])
      }
    }
  }
}

// ********************************  ********************************

class ActorNavigator {
  /** 
   *  @type {string}
   */ mode

  /** 
   *  @type {Actor}
   */ actor

  /** 
   *  @type {Actor|null}
   */ target

  /** 
   *  @type {number}
   */ movementAngle

  /** 
   *  @type {number}
   */ movementSpeed

  /** 
   *  @type {number}
   */ movementFactor

  /** ()
   *  @type {number}
   */ movementFactorTemp

  /** 
   *  @type {Float64Array|null}
   */ movementPath

  /** X
   *  @type {number}
   */ velocityX

  /** Y
   *  @type {number}
   */ velocityY

  /** 
   *  @type {Array&lt;Function>|null}
   */ callbacks

  /** ()
   *  @type {number}
   */ timeout

  /** X
   *  @type {number}
   */ lastX

  /** Y
   *  @type {number}
   */ lastY

  /** 
   *  @type {number}
   */ minDist

  /** 
   *  @type {number}
   */ maxDist

  /** 
   *  @type {number}
   */ vertDist

  /** 
   *  @type {boolean}
   */ bypass

  /** (-0.8~+0.8)
   *  @type {number}
   */ followingOffset

  /** 
   *  @type {boolean}
   */ followingNavigate

  /** 
   *  @type {boolean}
   */ followOnce

  /** 
   *  @type {number}
   */ animBufferTime

  /** ()
   *  @type {Function}
   */ update

  /**
   * 
   * @param {Actor} actor 
   */
  constructor(actor) {
    this.mode = 'stop'
    this.actor = actor
    this.target = null
    this.movementAngle = 0
    this.movementSpeed = actor.data.speed
    this.velocityX = 0
    this.velocityY = 0
    this.movementFactor = 1
    this.movementFactorTemp = 1
    this.movementPath = null
    this.callbacks = null
    this.timeout = 0
    this.lastX = 0
    this.lastY = 0
    this.update = Function.empty
  }

  /**
   * 
   * @param {number} speed (/)
   */
  setMovementSpeed(speed) {
    this.movementSpeed = speed
    this.calculateVelocity(this.movementAngle)
  }

  /**
   * 
   * @param {number} factor 
   */
  setMovementFactor(factor) {
    this.movementFactor = factor
    this.calculateVelocity(this.movementAngle)
  }

  /**
   * ()
   * @param {number} factor ()
   */
  setMovementFactorTemp(factor) {
    this.movementFactorTemp = factor
    this.calculateVelocity(this.movementAngle)
  }

  /**
   * 
   * @param {number} angle ()
   */
  calculateVelocity(angle) {
    const speed = this.movementSpeed
    * this.movementFactor
    * this.movementFactorTemp
    this.movementAngle = angle
    this.velocityX = speed * Math.cos(angle) / 1000
    this.velocityY = speed * Math.sin(angle) / 1000
  }

  /**  */
  stopMoving() {
    if (this.mode !== 'stop') {
      this.mode = 'stop'
      this.target = null
      this.movementPath = null
      this.actor.animationController.startIdle()
      // 
      this.update = Function.empty
      // ()
      if (this.callbacks !== null) {
        for (const callback of this.callbacks) {
          callback()
        }
        this.callbacks = null
      }
    }
  }

  /**
   * 
   * @param {function} callback 
   */
  onFinish(callback) {
    if (this.mode === 'stop') {
      return callback()
    }
    if (this.callbacks !== null) {
      this.callbacks.push(callback)
    } else {
      this.callbacks = [callback]
    }
  }

  /**
   * 
   * @param {number} angle ()
   */
  moveTowardAngle(angle) {
    if (this.mode !== 'keep') {
      this.stopMoving()
      this.mode = 'keep'
      this.actor.animationController.startMoving()
    }
    this.calculateVelocity(angle)
    // 
    this.update = this.updateForwardMovement
  }

  /**
   * 
   * @param {number} x X
   * @param {number} y Y
   */
  moveTo(x, y) {
    this.route(ScenePathFinder.createUnitPath(x, y))
  }

  /**
   * 
   * @param {number} x X
   * @param {number} y Y
   * @param {boolean} [bypass] 
   */
  navigateTo(x, y, bypass = false) {
    this.bypass = bypass
    this.route(ScenePathFinder.createPath(this.actor.x, this.actor.y, x, y, this.actor.passage, bypass), true)
  }

  /**
   * 
   * @param {Float64Array} path 2
   * @param {boolean} [navigate] 
   */
  route(path, navigate = false) {
    if (this.mode !== 'navigate') {
      this.stopMoving()
      this.mode = 'navigate'
      this.actor.animationController.startMoving()
    }
    this.timeout = navigate ? 500 : -1
    this.movementPath = path
    // 
    this.update = this.updatePathMovement
  }

  /**
   * ()
   * @param {Actor} target 
   * @param {number} minDist 
   * @param {number} maxDist 
   * @param {number} [offset = 0] [-0.8 ~ +0.8]
   * @param {boolean} [navigate = false] 
   * @param {boolean} [bypass = false] 
   * @param {boolean} [once = false] ()
   */
  followCircle(target, minDist, maxDist, offset = 0, navigate = false, bypass = false, once = false) {
    if (this.mode !== 'follow') {
      this.stopMoving()
      this.mode = 'follow'
    } else {
      this.movementPath = null
    }
    this.target = target
    // ( + 0.1)
    this.minDist = minDist
    this.maxDist = Math.max(maxDist, minDist + 0.1)
    this.followingOffset = offset
    this.followingNavigate = navigate
    this.bypass = bypass
    this.followOnce = once
    this.followTarget = once
    ? this._circleFollowTargetOnce
    : this._circleFollowTarget
    // 
    this.update = this.followTarget
  }

  /**
   * // ()
   * @param {Actor} target 
   * @param {number} minDist 
   * @param {number} maxDist 
   * @param {number} [vertDist = 0] 
   * @param {boolean} [navigate = false] 
   * @param {boolean} [bypass = false] 
   * @param {boolean} [once = false] ()
   */
  followRectangle(target, minDist, maxDist, vertDist = 0, navigate = false, bypass = false, once = false) {
    if (this.mode !== 'follow') {
      this.stopMoving()
      this.mode = 'follow'
    } else {
      this.movementPath = null
    }
    this.target = target
    // ( + 0.1)
    this.minDist = minDist
    this.maxDist = Math.max(maxDist, minDist + 0.1)
    this.vertDist = vertDist
    this.followingNavigate = navigate
    this.bypass = bypass
    this.followOnce = once
    this.followTarget = once
    ? this._rectangleFollowTargetOnce
    : this._rectangleFollowTarget
    // 
    this.update = this.followTarget
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  updateForwardMovement(deltaTime) {
    const actor = this.actor
    const x = this.velocityX * deltaTime
    const y = this.velocityY * deltaTime
    actor.updateAngle(this.movementAngle)
    actor.move(x, y)
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  updatePathMovement(deltaTime) {
    // 
    const actor = this.actor
    const path = this.movementPath
    if (this.timeout !== -1 &amp;&amp; (this.timeout -= deltaTime) &lt;= 0) {
      const destX = path[path.length - 2]
      const destY = path[path.length - 1]
      return this.navigateTo(destX, destY, this.bypass)
    }
    const pi = path.index
    const dx = path[pi]
    const dy = path[pi + 1]
    const distX = dx - actor.x
    const distY = dy - actor.y
    const angle = Math.atan2(distY, distX)
    actor.updateAngle(angle)
    this.calculateVelocity(angle)

    // 
    const mx = this.velocityX * deltaTime
    const my = this.velocityY * deltaTime
    if (Math.abs(distX) &lt;= Math.abs(mx) + 0.0001 &amp;&amp;
    Math.abs(distY) &lt;= Math.abs(my) + 0.0001) {
      // 
      // 
      actor.setPosition(dx, dy)
      path.index += 2
      // 
      if (path.index === path.length) {
        this.stopMoving()
      }
    } else {
      // 
      actor.move(mx, my)
    }
  }

  /**
   * 
   */
  _switchToFollowTargetBuffer() {
    if (this.followOnce) {
      this.stopMoving()
    } else {
      this.update = this._followTargetBuffer
      this.animBufferTime = 100
    }
  }

  /**
   * 
   * @param {number} deltaTime ()
   */
  _followTargetBuffer(deltaTime) {
    // idle
    // >=
    if ((this.animBufferTime -= deltaTime) &lt;= 0) {
      this.actor.animationController.startIdle()
      // 
      this.update = this.followTarget
      return this.update(deltaTime)
    }
    // 
    this.followTarget(deltaTime)
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _circleFollowTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    const dist = Math.sqrt(
      (actor.x - target.x) ** 2
    + (actor.y - target.y) ** 2
    )
    // 
    // ()
    if (dist > this.maxDist) {
      actor.animationController.startMoving()
      this.update = this.followingNavigate
      ? this._circleNavigateToTarget
      : this._circleApproachTarget
      return this.update(deltaTime)
    }
    // 
    // ()
    if (dist &lt; this.minDist) {
      actor.animationController.startMoving()
      this.update = this._circleLeaveTarget
      return this.update(deltaTime)
    }
  }

  /**
   *  - ()
   * @param {number} deltaTime ()
   */
  _circleFollowTargetOnce(deltaTime) {
    this._circleFollowTarget(deltaTime)
    // 
    if (this._circleFollowTargetOnce === this.update) {
      this.stopMoving()
    }
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _circleApproachTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    let distX = target.x - actor.x
    let distY = target.y - actor.y
    // (100ms)
    if (Math.sqrt(distX ** 2 + distY ** 2) &lt;= this.maxDist) {
      return this._switchToFollowTargetBuffer()
    }
    let angle = Math.atan2(distY, distX)
    const offset = this.followingOffset
    if (offset !== 0 &amp;&amp; this.maxDist > 0) {
      // 
      const offsetDist = Math.abs(this.maxDist * offset)
      angle += offset > 0 ? Math.PI / 2 : -Math.PI / 2
      // 
      distX += offsetDist * Math.cos(angle)
      distY += offsetDist * Math.sin(angle)
      angle = Math.atan2(distY, distX)
    }
    // 
    this.calculateVelocity(angle)
    this.updateForwardMovement(deltaTime)
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _circleNavigateToTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    const sx = actor.x
    const sy = actor.y
    const distX = target.x - sx
    const distY = target.y - sy
    // (100ms)
    if (Math.sqrt(distX ** 2 + distY ** 2) &lt;= this.maxDist) {
      this.movementPath = null
      this._switchToFollowTargetBuffer()
      return
    }
    // 
    if (!this.movementPath || (this.timeout -= deltaTime) &lt;= 0) {
      let {x, y} = target
      const offset = this.followingOffset
      if (offset !== 0 &amp;&amp; this.maxDist > 0) {
        // 
        const offsetDist = Math.abs(this.maxDist * offset)
        const offsetAngle = offset > 0 ? Math.PI / 2 : -Math.PI / 2
        const angle = Math.atan2(distY, distX) + offsetAngle
        x += offsetDist * Math.cos(angle)
        y += offsetDist * Math.sin(angle)
      }
      this.movementPath = ScenePathFinder.createPath(sx, sy, x, y, actor.passage, this.bypass)
      this.timeout = 500
    }
    // 
    const path = this.movementPath
    const pi = path.index
    const dx = path[pi]
    const dy = path[pi + 1]
    const pDistX = dx - sx
    const pDistY = dy - sy
    const angle = Math.atan2(pDistY, pDistX)
    actor.updateAngle(angle)
    this.calculateVelocity(angle)

    // 
    const mx = this.velocityX * deltaTime
    const my = this.velocityY * deltaTime
    if (Math.abs(pDistX) &lt;= Math.abs(mx) + 0.0001 &amp;&amp;
      Math.abs(pDistY) &lt;= Math.abs(my) + 0.0001) {
      actor.setPosition(dx, dy)
      path.index += 2
      if (path.index === path.length) {
        this.movementPath = null
      }
    } else {
      actor.move(mx, my)
    }
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _circleLeaveTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    const distX = actor.x - target.x
    const distY = actor.y - target.y
    // (100ms)
    if (Math.sqrt(distX ** 2 + distY ** 2) >= this.minDist) {
      return this._switchToFollowTargetBuffer()
    }
    // 
    const angle = Math.atan2(distY, distX)
    this.calculateVelocity(angle)
    this.updateForwardMovement(deltaTime)
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _rectangleFollowTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    const distX = Math.abs(actor.x - target.x)
    const distY = Math.abs(actor.y - target.y)
    // 
    // (+0.0001)
    // ()
    if (distX > this.maxDist ||
      distX &lt; this.minDist ||
      distY > this.vertDist + 0.0001) {
      actor.animationController.startMoving()
      this.update = this.followingNavigate
      ? this._rectangleNavigateToTarget
      : this._rectangleApproachTarget
      return this.update(deltaTime)
    }
  }

  /**
   *  - ()
   * @param {number} deltaTime ()
   */
  _rectangleFollowTargetOnce(deltaTime) {
    this._rectangleFollowTarget(deltaTime)
    // 
    if (this._rectangleFollowTargetOnce === this.update) {
      this.stopMoving()
    }
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _rectangleApproachTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    const sx = actor.x
    const sy = actor.y
    const tx = target.x
    const ty = target.y
    const dx = sx &lt; tx
    // 
    ? Math.clamp(sx, tx - this.maxDist, tx - this.minDist)
    : Math.clamp(sx, tx + this.minDist, tx + this.maxDist)
    // 
    const dy = Math.clamp(sy, ty - this.vertDist, ty + this.vertDist)
    const distX = dx - sx
    const distY = dy - sy
    const angle = Math.atan2(distY, distX)
    // 
    actor.updateAngle(angle)
    this.calculateVelocity(angle)

    // 
    const mx = this.velocityX * deltaTime
    const my = this.velocityY * deltaTime
    actor.move(mx, my)
    const absDistX = Math.abs(actor.x - tx)
    if (absDistX >= this.minDist &amp;&amp;
      absDistX &lt;= this.maxDist &amp;&amp;
      Math.abs(distY) &lt;= Math.abs(my) + 0.0001) {
      // 
      // 
      // 
      actor.setPosition(actor.x, dy)
      // 
      this._switchToFollowTargetBuffer()
    }
  }

  /**
   *  - 
   * @param {number} deltaTime ()
   */
  _rectangleNavigateToTarget(deltaTime) {
    const actor = this.actor
    const target = this.target
    // 
    if (target.destroyed) {
      return this.stopMoving()
    }
    const sx = actor.x
    const sy = actor.y
    const tx = target.x
    const ty = target.y
    const dx = sx &lt; tx
    // 
    ? Math.clamp(sx, tx - this.maxDist, tx - this.minDist)
    : Math.clamp(sx, tx + this.minDist, tx + this.maxDist)
    // 
    const dy = Math.clamp(sy, ty - this.vertDist, ty + this.vertDist)
    // 
    if (!this.movementPath || (this.timeout -= deltaTime) &lt;= 0) {
      this.movementPath = ScenePathFinder.createPath(sx, sy, dx, dy, actor.passage, this.bypass)
      this.timeout = 500
    }
    // 
    const path = this.movementPath
    const pi = path.index
    const px = path[pi]
    const py = path[pi + 1]
    const pDistX = px - sx
    const pDistY = py - sy
    if (pDistX === 0 &amp;&amp; pDistY === 0) {
      this.velocityX = 0
      this.velocityY = 0
    } else {
      const angle = Math.atan2(pDistY, pDistX)
      actor.updateAngle(angle)
      this.calculateVelocity(angle)
    }

    // 
    const mx = this.velocityX * deltaTime
    const my = this.velocityY * deltaTime
    // 
    // 0.0001
    if (Math.abs(pDistX) &lt;= Math.abs(mx) + 0.0001 &amp;&amp;
      Math.abs(pDistY) &lt;= Math.abs(my) + 0.0001) {
      actor.setPosition(px, py)
      path.index += 2
      if (path.index === path.length) {
        this.movementPath = null
        const absDistX = Math.abs(actor.x - tx)
        const absDistY = Math.abs(actor.y - dy)
        if (absDistX >= this.minDist &amp;&amp;
          absDistX &lt;= this.maxDist &amp;&amp;
          absDistY &lt;= Math.abs(my) + 0.0001) {
          // 
          // 
          // 
          actor.setPosition(actor.x, dy)
          // 
          this._switchToFollowTargetBuffer()
        }
      }
    } else {
      actor.move(mx, my)
    }
  }
}</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Sat Sep 30 2023 19:52:20 GMT+0800 () using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
